<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Wifsimster</title>
  <subtitle>Passionate Web Dev, Tech Geek, Raspberry Pi &amp; ESP8266 Lover 💻 ❤️</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2017-05-03T11:58:57.232Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Wifsimster</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Bureau sur mesure avec pc intégré</title>
    <link href="http://yoursite.com/2017/05/03/Bureau-sur-mesure-avec-pc-integre/"/>
    <id>http://yoursite.com/2017/05/03/Bureau-sur-mesure-avec-pc-integre/</id>
    <published>2017-05-03T10:48:31.000Z</published>
    <updated>2017-05-03T11:58:57.232Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>J’ai commencé la construction d’un bureau il y a de ça 1 mois. Je suis actuellement en attente de quelques pièces pour continuer, je vais donc en profiter pour présenter ce projet.</p>
<p>J’ai toujours rêvé d’avoir un pc intégré dans mon bureau, surtout depuis que j’ai fait la connaissance de projets de <a href="http://www.geeky-gadgets.com/lian-li-computer-desk-houses-all-your-hardware-video-29-05-2014/" target="_blank" rel="external">Lian Li</a> ou <a href="https://www.youtube.com/user/l3pje" target="_blank" rel="external">Peter Brands</a>.</p>
<p>Après quelques recherches et un peu de remise en pied sous SolidWorks j’ai donc pondu une premier version de mon futur bureau.</p>
<p><img src="/images/Sans+titre1-1050x393.png" alt=""></p>
<p>A savoir que, je possède déjà deux pieds de bureau que j’ai prévu d’encastrer sur le fond du bureau, comme ci-dessous :</p>
<p><img src="/images/Sans+titre11-1050x675.png" alt=""></p>
<h2 id="Choix-et-composants"><a href="#Choix-et-composants" class="headerlink" title="Choix et composants"></a>Choix et composants</h2><p>Comme vous pouvez le voir ci-dessous j’ai découpé le bureau en 3 emplacements :</p>
<ul>
<li>l’emplacement gauche dédié à la carte mère et ses composants;</li>
<li>l’emplacement du fond dédié à l’alimentation et sortie de câbles (carte mère, haut parleurs, ventilation, etc…)</li>
<li>l’emplacement de droit n’a pas d’attribution spécifique pour le moment, je pense mettre déjà quelques commandes comme l’allumage, le contrôle de la ventilation…</li>
</ul>
<p><img src="/images/hg2.png" alt=""></p>
<p>Les côtés gauche et droit du meuble posséderons 3 ventilateurs <a href="http://www.amazon.fr/Corsair-Ventilateur-Grand-Edition-Silencieuse/dp/B007RESGGC/ref=sr_1_1?s=computers&amp;ie=UTF8&amp;qid=1404472072&amp;sr=1-1&amp;keywords=af140" target="_blank" rel="external">Corsair AF140 QE</a> chacun afin de garantir une ventilation de droite à gauche du bloc principal.</p>
<p>L’extérieur des côtés sera recouvert de filtres anti-poussière, commandé sur <a href="http://www.moddiy.com/products/%28Daily-Deals%29-Ultra-Thin-0.45mm-PVC-Fan-Dust-Filter-%284cm-~-14cm%29.html" target="_blank" rel="external">modDIY</a>.</p>
<p>J’ai choisi un <a href="http://www.ebay.fr/itm/16mm-12V-Voiture-Aluminum-Metal-Switch-LED-Bouton-Poussoir-Interrupteur-Lumiere-/310909165183?ssPageName=ADME:L:OU:FR:3160" target="_blank" rel="external">bouton poussoir éclairé</a> comme bouton d’allumage, que je placerai certainement sur la face avant à droite. </p>
<p>Côté sons, j’ai démonté (découpé) de vielle enceintes Awai et JVC pour récupérer les haut parleurs que je vais placer sur des caissons fixé au dessus du meuble.</p>
<p>Je n’avais quasiment aucun outillage pour construire le bureau, j’ai donc investi dans quelques outils.<br>Principalement, la scie sauteuse m’a permise de faire toutes mes découpes, je n’ai rien fait à la scie circulaire. J’ai rattrapé les lignes avec une vielle ponceuse.</p>
<p><img src="/images/IMG_20140618_2015281.jpg" alt=""></p>
<p>Et sans oublié le plus important le bois ! Trouver le bois m’a pris un peu de temps. Je suis parti sur du MDF (medium density fibreà ou plus communément appelé medium (standard), fait pour être utilisé en intérieur, facile à travailler, n’éclate quasiment pas contrairement à du bois résineux et se peint simplement avec une sous-couche multi-support. C’est le bois idéal pour fabriquer un meuble pour un prix correcte !</p>
<p>Le médium se trouve généralement soit en magasin de bricolage style <a href="http://www.leroymerlin.fr/recherche=medium" target="_blank" rel="external">Leroy Merlin</a> ou alors chez des négociants en bois. N’ayant pas de Leroy Merlin à proximité, je me suis procuré le médium chez un négociant de bois.</p>
<p>Pour information, j’ai acheté 4 plaques de 2m44x1m22x19mm.</p>
<blockquote><p>Y a plus qu’à !</p>
</blockquote>
<p><img src="/images/IMG_20140618_2150151.jpg" alt=""></p>
<h2 id="Construction"><a href="#Construction" class="headerlink" title="Construction"></a>Construction</h2><p>J’ai donc commencé par découper et assembler le fond du bureau, on peut y voir le découpage en 3 sections.</p>
<p>J’ai ensuite assemblé l’extérieur et mis en place les deux éléments ensemble.</p>
<p><img src="/images/IMG_20140618_2236031.jpg" alt=""><br><img src="/images/IMG_20140619_2011441.jpg" alt=""><br><img src="/images/IMG_20140620_1507091.jpg" alt=""></p>
<p>Pour finir l’assemblage des pièces principales, j’ai rajouté les deux plans du bureau.</p>
<p><img src="/images/IMG_20140620_1806211.jpg" alt=""></p>
<h2 id="Etagere-et-son"><a href="#Etagere-et-son" class="headerlink" title="Étagère et son"></a>Étagère et son</h2><p>Une fois que le bureau fut assemblé j’ai rajouté une étagère sur toute la longueur pour rehausser mes deux écrans, j’en ai donc profiter pour intégrer un système de son 3 voies (gauche, centre &amp; droit).</p>
<p>J’alimente les haut-parleurs avec deux petits amplificateurs double voies trouvé sur Conrad, que je placerai au centre du meuble.</p>
<p><img src="/images/IMG_20140625_2050191.jpg" alt=""><br><img src="/images/IMG_20140702_0805291.jpg" alt=""><br><img src="/images/IMG_20140702_2242061.jpg" alt=""><br><img src="/images/IMG_20140702_2239491.jpg" alt=""><br><img src="/images/IMG_20140713_1220231.jpg" alt=""></p>
<h2 id="Ventilation"><a href="#Ventilation" class="headerlink" title="Ventilation"></a>Ventilation</h2><p>Comme expliqué précédemment je voulais avoir un flux d’air de droite à gauche sur l’ensemble du plan principal grâce à 6 ventilateurs Corsair AF140.</p>
<p><img src="/images/IMG_20140621_1604011.jpg" alt=""><br><img src="/images/IMG_20140621_1637371.jpg" alt=""><br><img src="/images/IMG_20140621_1727461.jpg" alt=""><br><img src="/images/IMG_20140621_1741411.jpg" alt=""></p>
<h2 id="Carte-mere-et-passage-de-cables"><a href="#Carte-mere-et-passage-de-cables" class="headerlink" title="Carte-mère et passage de câbles"></a>Carte-mère et passage de câbles</h2><p>Je me suis donc attaqué à où et comment placer/fixer ma carte-mère dans le bureau.</p>
<p>J’ai commencé par démonter mon boitier pour retirer le support de la carte mère, que j’ai ensuite ajusté et peint en noir.</p>
<p>J’ai ensuite découpé  le meuble pour faire ressortir les connexions vers le compartiment du fond, où toutes les câbles passeront.</p>
<p><img src="/images/IMG_20140714_1214291.jpg" alt=""><br><img src="/images/IMG_20140714_1408511.jpg" alt=""><br><img src="/images/IMG_20140714_1414331.jpg" alt=""><br><img src="/images/IMG_20140714_1936011.jpg" alt=""></p>
<p>Mon alimentation actuelle n’est pas modulaire. Je ne peux donc pas la mettre où je veux.<br>J’ai donc décidé (pour le moment) de la placer au niveaux de mes genoux contre le compartiment gauche. J’ai donc réalisé une boite pour fixer l’alimentation sous le meuble.</p>
<p><img src="/images/IMG_20140714_1934291.jpg" alt=""><br><img src="/images/IMG_20140717_2227571.jpg" alt=""></p>
<p>J’ai ensuite rajouter les trous pour le passage des câbles de l’alimentation.</p>
<p><img src="/images/IMG_20140717_1948521.jpg" alt=""><br><img src="/images/IMG_20140717_2227431.jpg" alt=""></p>
<h2 id="Peinture"><a href="#Peinture" class="headerlink" title="Peinture"></a>Peinture</h2><p>Il ne manque plus qu’une bonne couche de peinture pour finaliser le gros oeuvre. J’ai testé pour la première fois la peinture avec pistolet à air. Ça a l’avantage d’être rapide et sans bavure mais par ailleurs vous peignez les alentours du meuble, mes outils sont maintenant tachetés de gris et blanc… J’ai commencé par passer une sous-couche multisupport sur l’ensemble du meuble, poncé le tout une fois sec et ensuite passé deux couches de peinture acrylique teintée en gris ( parce que pas assez de teinture noir sous la main :) ). Le résultat n’étant pas assez lisse à mon gout et je voulais à la base un bureau full noir, j’ai donc trouvé de l’acrylique noir. J’ai donc terminé par une dernière couche de peinture en noir sur les éléments visibles du meuble.</p>
<p><img src="/images/IMG_20140720_1248311.jpg" alt=""><br><img src="/images/IMG_20140720_2250311.jpg" alt=""><br><img src="/images/IMG_20140717_1950101.jpg" alt=""></p>
<p><img src="/images/IMG_20140720_2251211.jpg" alt=""><br><img src="/images/IMG_20140722_2146021.jpg" alt=""><br><img src="/images/IMG_20140722_2146131.jpg" alt=""></p>
<h2 id="Assemblage-et-cablage"><a href="#Assemblage-et-cablage" class="headerlink" title="Assemblage et câblage"></a>Assemblage et câblage</h2><p>Y a plus qu’à tout mettre en place ! L’assemblage et le câblage m’a prit pas mal de temps. Surtout que je voulais faire du sleeving sur les câbles de la carte mère pour avoir un joli rendu.</p>
<p><img src="/images/IMG_20140724_1440221.jpg" alt=""><br><img src="/images/IMG_20140724_1726241.jpg" alt=""><br><img src="/images/IMG_20140724_1844201.jpg" alt=""><br><img src="/images/IMG_20140730_0801161.jpg" alt=""></p>
<h2 id="Rendu-final"><a href="#Rendu-final" class="headerlink" title="Rendu final"></a>Rendu final</h2><p>Et voilà le résultat, il y aura quelques optimisations et améliorations à venir (lumières, grille de ventilation, contrôle des amplis avec des prises 433MHz, etc…)  mais tout est là :)</p>
<p><img src="/images/IMG_20140802_1523411-1050x776.jpg" alt=""></p>
<p>Comme vous pouvez le voir le bureau + les pieds rendent le bureau très haut (plan de travail à 1m du sol).</p>
<p>J’ai donc hésité à m’arrêter là et trouver une chaise de bar avec dossier ou bien faire de nouveaux pieds plus petits à hauteur d’un siège de bureau.</p>
<p>Bien évidemment, j’ai construit de nouveaux pieds :p</p>
<h2 id="Construction-des-pieds"><a href="#Construction-des-pieds" class="headerlink" title="Construction des pieds"></a>Construction des pieds</h2><p>J’ai donc rajouté sur la base de mon fichier Solidworks deux pieds avec porte de chaque côté (mais sans tiroir).</p>
<p><img src="/images/IMG_20140816_1304191.jpg" alt=""></p>
<p>Rien de bien compliqué, excepté que j’en ai profité pour intégrer NAS, server Debian et onduleur dans le pied de gauche !</p>
<p><img src="/images/IMG_20140820_203706.jpg" alt=""></p>
<p>J’ai ajouté une entrée d’air ventilée sous le NAS, parce que oui tout ça ça chauffe à l’intérieur :</p>
<p><img src="/images/IMG_20140820_2037391-1050x590.jpg" alt=""></p>
<p>Une sous-couche multi-support blanche, puis une peinture glycéro noir (oui contrairement à celle du bureau):</p>
<p><img src="/images/IMG_20140822_1920261-1050x590.jpg" alt=""></p>
<h2 id="Ventilations"><a href="#Ventilations" class="headerlink" title="Ventilations"></a>Ventilations</h2><p>J’ai également terminé de câbler l’intégralité de mon système de ventilation, j’ai donc une ventillation de droite à gauche sous le plan de travail du bureau via 6 ventilateurs.</p>
<p>Les 6 ventilateurs sont reliés à mon rhéobus, je peux ainsi contrôler la vitesse de chaque ventilateur. Je rajouterai prochainement des sondes de température pour rendre dépendant la vitesse de la ventilation de la température.</p>
<p>Et pour terminer j’ai posé les caches de protections extérieurs des ventilateurs.</p>
<p><img src="/images/IMG_20140823_2018211-1050x598.jpg" alt=""></p>
<h2 id="Ecrans"><a href="#Ecrans" class="headerlink" title="Ecrans"></a>Ecrans</h2><p>J’ai fini par investir dans un support <a href="http://www.amazon.fr/gp/product/B005BREK9Y/ref=oh_aui_detailpage_o01_s00?ie=UTF8&amp;psc=1" target="_blank" rel="external">triple display</a> pour rendre le tout un peu plus classe !</p>
<p>Le pied du support étant beaucoup trop large pour mon étagère de bureau, j’ai rallongé le tube du support et je l’ai fixé à l’arrière du meuble.</p>
<p><img src="/images/IMG_20140823_1947551-1050x598.jpg" alt=""></p>
<p>Et voici le résultat avec trois <a href="http://www.amazon.fr/gp/product/B00FABG2DI/ref=oh_aui_detailpage_o02_s00?ie=UTF8&amp;psc=1" target="_blank" rel="external">Iiyama Prolite E2483HS-B1</a> :</p>
<p><img src="/images/IMG_20140823_2116131-1050x590.jpg" alt=""></p>
<h2 id="Siege"><a href="#Siege" class="headerlink" title="Siège"></a>Siège</h2><p>J’ai également eu le plaisir d’avoir un nouveau siège de bureau pour mon anniversaire ;)</p>
<p><img src="/images/2014-09-031.jpg" alt=""></p>
<h2 id="Ambilight"><a href="#Ambilight" class="headerlink" title="Ambilight"></a>Ambilight</h2><p>Je viens de rajouter cette semaine un ruban autocollant de led WS2812B de 4m à l’arrière des écrans pour reproduire un système ambilight de la même manière que sur ma TV (Cf. <a href="http://damien-battistella.fr/?p=393" target="_blank" rel="external">Ambi-like avec un ruban WS2801, un Raspberry Pi et Hyperion</a>).</p>
<p>Un article dédié arrive sous peu… mais voici le premier résultat :</p>
<p><img src="/images/IMG_20140903_0005141.jpg" alt=""></p>
<div class="video-container"><iframe src="//www.youtube.com/embed/wNnYBho63YU" frameborder="0" allowfullscreen></iframe></div>
<p>Pour terminer la construction de mon meuble de bureau, un petit bilan s’impose.</p>
<h2 id="Mes-objectifs-initiaux"><a href="#Mes-objectifs-initiaux" class="headerlink" title="Mes objectifs initiaux"></a>Mes objectifs initiaux</h2><p>Je voulais un bureau sur-mesure pour profiter au mieux de l’espace de la pièce et également que mon pc y soit intégré.</p>
<p>Par la suite j’ai voulu rajouter une étagère pour accueillir mes écrans et également quelques hauts-parleurs.</p>
<h2 id="Mon-niveau-de-connaissances"><a href="#Mon-niveau-de-connaissances" class="headerlink" title="Mon niveau de connaissances"></a>Mon niveau de connaissances</h2><p>J’avais de simple connaissance en menuiserie (et manipulation d’outils) datant de mon enfance. C’est revenu assez rapidement après quelques erreurs…</p>
<p>J’ai fait mes études dans l’électrotechnique, j’ai donc quelques connaissances en électricité et câblage, qui m’ont bien servit pour le coup :)</p>
<h2 id="Mon-installation"><a href="#Mon-installation" class="headerlink" title="Mon installation"></a>Mon installation</h2><p>Partant de quelques idées, et en m’inspirant de projets trouvés sur le net, j’ai donc réussi à réaliser mon bureau.</p>
<p>Mon pc est donc intégré dans la partie gauche du plan. J’ai mis en place une ventilation sur la longueur du plan de droite à gauche grâce à 6 ventilateurs reliés à un rhéobus tactile.</p>
<p>Je suis passé de deux écrans asymétriques à un triple display 24″ sur support, me libérant de l’espace et gagnant en immersion.</p>
<p>En démontant quelques haut-parleurs, j’ai réussi à intégrer un système de son 3 voix  dans l’étagère, participant également à l’immersion.</p>
<p>Et pour terminer, j’ai profité de la réalisation des pieds pour y intégrer mon NAS, serveur Debian et mon onduleur, qui sont maintenant cachés.</p>
<p><img src="/images/IMG_20131228_1817001.jpg" alt=""><br><img src="/images/2014-09-031.jpg" alt=""></p>
<h2 id="Combien-ca-coute"><a href="#Combien-ca-coute" class="headerlink" title="Combien ça coûte ?"></a>Combien ça coûte ?</h2><p>Voici en détails le prix de revient de ce nouveau bureau.</p>
<p><strong>Peintures : 121.6€</strong></p>
<ul>
<li>3 x sous couche 1L : 49.50€</li>
<li>3 x peintures noir 500mL : 26.85€</li>
<li>4 x peintures noir glycéro 500mL : 38€</li>
<li>1 x aérosol noir 400mL : 7.25€</li>
</ul>
<p><strong>Matériels : 333.02€</strong></p>
<ul>
<li>4 x panneaux medium 2.44mx1.22mx19mm : 141.70€</li>
<li>1 x pate à bois 450g : 9.70€</li>
<li>1 x verre synthétique 50cmx100cm : 18.85€</li>
<li>8 x roulettes 35mm : 78.80€</li>
<li>2 x poignées nickele : 7.60€</li>
<li>2 x passes câble aluminium anodisé : 27.50€</li>
</ul>
<p><strong>Périphériques / composants : 1228.24€</strong></p>
<ul>
<li>1 x D-Link Switch 8 ports : 26.01€</li>
<li>1 x D-Link hub 7 ports USB 2.0 : 18.79€</li>
<li>2 x câble DVI 3m : 20€</li>
<li>1 x support ecrans triple 24″ : 174.35€</li>
<li>3 x Iiyama Prolite E2483HS-B1 24″ : 461.04€</li>
<li>2 x câble RJ45 2m CAT6 : 10.7€</li>
<li>2 x câble RJ45 1m CAT6 : 10.3€</li>
<li>1 x set 3 prises Chacon : 29.90€</li>
<li>2 x câble stéréo Jack vers RCA 1m : 7.52€</li>
<li>6 x ventilateurs Corsair AF140 QE : 82.46€</li>
<li>5 x grilles de protection haut-parleur : 29.55€</li>
<li>2 x mini-amplificateur Dynavox CS-PA1 : 82.91€</li>
<li>1 x 4m 240 LED RGB strip : 83.90€</li>
<li>1 x alimentation 5v 8A : 12.30€</li>
<li>câbles, sleeving, connecteurs (fan, molex), attaches câble, filtres à poussière, etc… : 178.51€</li>
</ul>
<p><strong>Outillages : 696.36€</strong></p>
<ul>
<li>1 x Black&amp;Decker perceuse 12V : 46.13€</li>
<li>1 x Bosch coffret d’embouts et douilles 43 pièces : 29.75€</li>
<li>1 x Bosch scie circulaire PKS 66 A : 128.99€</li>
<li>1 x Bosh mélangeur de peinture : 3.94€</li>
<li>1 x Bosch coffret de 15 fraises au carbure : 61.92€</li>
<li>1 x Bosch défonceuse POF 1400 ACE : 122.14€</li>
<li>1x Bosch scie sauteuse PST 700 E : 49.25€</li>
<li>1 x Silverline cutter 90mm : 8.83€</li>
<li>2 x Silverline coffre de vis à tête fraisée 780 pièces : 46.24€</li>
<li>1 x Silverline règle aluminium 1200mm : 12.40€</li>
<li>1 x Silverline bobine de fil à souder 20g : 4.09€</li>
<li>1 x Silverline colliers de serrage 1000 pièces : 14€</li>
<li>1 x Silverline jeu de 3 rapes à bois : 8€</li>
<li>1 x Mannesmann pistolet thermique 2000W : 12.29€</li>
<li>1 x Mannesmann coffret de limes 5 pièces : 17.04€</li>
<li>1 x Dremel fer à souder au gaz : 33.39€</li>
<li>1 x Wolfcraft coffret scie cloche 5 trépans : 33.10€</li>
<li>1 x jeu de 10 mèches à bois plates : 14.04€</li>
<li>1 x masque de protection FFP2 : 5.44€</li>
<li>1 x lot de 127 gaines plastique thermorétractable : 7.52€</li>
<li>1 x étau double d’angle : 25.07€</li>
<li>1 x lot de 2 recharges de gaz 300mL : 12.83€</li>
</ul>
<p>Pour résumer, le meuble sans composant m’a coûté <strong>454.62€</strong>, en y ajoutant l’ensemble des composants et périphériques, j’arrive à <strong>1682.86€</strong>.</p>
<p>Et enfin avec l’outillage, même si c’est un investissement et non pas un achat totalement relié au meuble, j’obtient un coût de <strong>2379.22€</strong>.</p>
<h2 id="Evolutions-envisagees"><a href="#Evolutions-envisagees" class="headerlink" title="Évolutions envisagées"></a>Évolutions envisagées</h2><p>Je suis en train de rajouter un ambi-like à l’arrière du triple display avec une <strong>Teensy 2.0</strong> et un ruban de 240 led <strong>WS2812B</strong>.</p>
<p>J’aimerai également refaire l’arrière du meuble pour accéder plus facilement au câblage, prises et port de la carte mère.</p>
<h2 id="Si-c’etait-a-refaire"><a href="#Si-c’etait-a-refaire" class="headerlink" title="Si c’était à refaire"></a>Si c’était à refaire</h2><p>Si c’était à refaire, j’obterai pour déférente épaisseur de bois pour alléger et simplifier certaines parties du meuble.</p>
<p>J’aurai passer uniquement de la peinture glycéro sur la totalité du meuble et non pas avoir commencer avec de la peinture à l’eau. La glycéro est plus épaisse et donne un effet brillant plus sympathique.</p>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>La construction du meuble à été longue, très longue. Je n’était pas parti pour 4 mois de réalisation mais au final je suis quand même très content de ma réalisation.</p>
<p>J’ai maintenant un meuble qui me correspond et fait de mes propres mains 🙂</p>
<p><img src="/images/IMG_20140903_0005141.jpg" alt=""></p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Introduction&quot;&gt;&lt;a href=&quot;#Introduction&quot; class=&quot;headerlink&quot; title=&quot;Introduction&quot;&gt;&lt;/a&gt;Introduction&lt;/h2&gt;&lt;p&gt;J’ai commencé la construction 
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Ambi-like avec un ruban WS2801, un Raspberry Pi et Hyperion</title>
    <link href="http://yoursite.com/2017/05/03/Ambi-like-avec-un-ruban-WS2801-un-Raspberry-Pi-et-Hyperion/"/>
    <id>http://yoursite.com/2017/05/03/Ambi-like-avec-un-ruban-WS2801-un-Raspberry-Pi-et-Hyperion/</id>
    <published>2017-05-03T10:04:27.000Z</published>
    <updated>2017-05-03T10:16:19.442Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>Le système <a href="http://en.wikipedia.org/wiki/Ambilight" target="_blank" rel="external">Ambilight</a> de chez Phiilips m’a fait les yeux doux depuis trop longtemps, je me suis donc décidé à faire un système Ambilight en <a href="http://fr.wikipedia.org/wiki/Do_it_yourself" target="_blank" rel="external">DIY</a>. Les projets  et tuto ne manquent pas sur le net, beaucoup de personnes se sont essayé à l’exercice et certains softs sont même très complet maintenant (Hyperion pour ne pas le citer).</p>
<h2 id="Materiel"><a href="#Materiel" class="headerlink" title="Matériel"></a>Matériel</h2><p>Au niveau du matériel, j’ai choisi un ruban à 50 leds, une alimentation 5v 8A et un connecteur d’alimentation jack.</p>
<ul>
<li>1 ruban de 50 <a href="http://www.ebay.fr/itm/50PCS-WS2801-RGB-Full-Color-12mm-Pixels-digital-Addressable-LED-String-DC-5V-/121159316753?pt=US_Car_Lighting&amp;hash=item1c35a87511" target="_blank" rel="external">LED WS2801</a> pour 21€ ;</li>
<li>1 alimentation <a href="http://www.ebay.fr/itm/5V-8A-Power-supply-AC-to-DC-Adapter-for-WS2811-WS2801-HL8806-LED-String-Light-/121153648301?hash=item1c3551f6ad&amp;pt=US_Lighting_Parts_and_Accessories" target="_blank" rel="external">5V 8A</a> pour 12€ ;</li>
<li>1 connecteur d’alimentation jack (à l’<a href="http://www.amazon.fr/gp/product/B006WJL7Y6/ref=oh_details_o00_s00_i00?ie=UTF8&amp;psc=1" target="_blank" rel="external">unité 3€</a> ou <a href="http://www.amazon.fr/gp/product/B008H2HLUA/ref=oh_details_o08_s00_i00?ie=UTF8&amp;psc=1" target="_blank" rel="external">10 pour 7€</a>).</li>
</ul>
<h2 id="Prototype"><a href="#Prototype" class="headerlink" title="Prototype"></a>Prototype</h2><p>J’ai commencé par réaliser un cadre avec des morceaux de MDF qui ne me servaient à rien. C’est léger, facile à travaillé mais vite fragilisé avec les trous vu l’épaisseur.</p>
<p><img src="/images/IMG_20140706_1353301.jpg" alt=""><br><img src="/images/IMG_20140706_1353481.jpg" alt=""><br><img src="/images/IMG_20140706_1532031.jpg" alt=""><br><img src="/images/IMG_20140706_1648501.jpg" alt=""><br><img src="/images/IMG_20140707_0843401.jpg" alt=""></p>
<h2 id="Connexion-avec-le-Raspberry-Pi"><a href="#Connexion-avec-le-Raspberry-Pi" class="headerlink" title="Connexion avec le Raspberry Pi"></a>Connexion avec le Raspberry Pi</h2><p>La connexion avec le Raspberry Pi est relativement simple, comme vous pouvez le voir sur le schéma ci-dessous.</p>
<p>Les LED étant sensibles au voltage, il est préférable de les alimenter avec une alimentation extérieure connectée en parallèle au 5v du port GPIO.</p>
<p><img src="/images/diagram1.png" alt=""></p>
<h2 id="Installation-d’Hyperion"><a href="#Installation-d’Hyperion" class="headerlink" title="Installation d’Hyperion"></a>Installation d’Hyperion</h2><p>Le plus simple pour utiliser Hyperion est d’utiliser une <a href="http://www.raspberrypi.org/downloads/" target="_blank" rel="external">Raspbian</a> sur votre Raspberry Pi, si jamais vous voulez absoluement tourner sur un aure OS je vous repporte sur le wiki d’Hyperion qui explique la procédure supplémentaire à suivre <a href="https://github.com/tvdzwan/hyperion/wiki/installation" target="_blank" rel="external">ici</a>.</p>
<p>En premier lieu, une installation de quelques librairies est nécessaire pour faire tourner Hyperion sur votre Raspberi Pi.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sudo apt-get update </div><div class="line">sudo apt-get install libqtcore4 libqtgui4 libqt4-network libusb-1.0-0 libprotobuf7 ca-certificates</div></pre></td></tr></table></figure>
<p>Ensuite téléchargé et déployé Hyperion.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">wget -N https://raw.github.com/tvdzwan/hyperion/master/bin/install_hyperion.sh</div><div class="line">sudo sh ./install_hyperion.sh</div></pre></td></tr></table></figure>
<p>A savoir qu’Hyperion se lancera automatiquement dès le prochain démarrage du Raspberry Pi.</p>
<p>Vous pouvez ensuite tester simple d’allumer votre ruban en rouge.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hyperion-remote --priority 50 --color red --duration 5000</div></pre></td></tr></table></figure>
<p>Si vous souhaité désactiver le lancement automatique d’Hyperion au démarrage.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sudo /sbin/initctl stop hyperion</div><div class="line">rm /etc/init/hyperion.conf</div></pre></td></tr></table></figure>
<p>Pour information, je n’ai pas réussi à faire fonctionner mon connecteur usb/wifi Edimax sur la Raspbmc alors qu’il fonctionnait très bien sur ma Raspbian, je me suis donc résolu à connecter mon Raspberry Pi en RJ45.</p>
<p>Il existe une application Android gratuite pour contrôler le serveur Hyperion à distance, disponible sur le <a href="https://play.google.com/store/apps/details?id=nl.hyperion.hyperionfree" target="_blank" rel="external">store</a>.</p>
<h2 id="Configuration-d’Hyperion"><a href="#Configuration-d’Hyperion" class="headerlink" title="Configuration d’Hyperion"></a>Configuration d’Hyperion</h2><p>Hyperion possède un logiciel de paramétrage très bien fait, nommé <a href="https://github.com/tvdzwan/hyperion/wiki/configuration" target="_blank" rel="external">HyperCon</a>, il permet de gérer l’ensemble des LED (position, couleurs, éclairage, taille, …). L’ensemble des possibilités est détaillées dans le lien précédent.</p>
<p>Hypercon va donc vous générer un fichier hyperion.config.json à déposer par défaut dans /etc.</p>
<p><img src="/images/hypercon_mainscreen_011-1050x565.jpg" alt=""></p>
<h2 id="Cadre-en-acier"><a href="#Cadre-en-acier" class="headerlink" title="Cadre en acier"></a>Cadre en acier</h2><p>Mon cadre en MDF n’étant pas très résistant, j’ai acheté quelques cornières en acier, que j’ai découpé et ensuite peinte. Le résultat est bien mieux, l’ensemble est solide, léger et tient bien mieux à la TV.</p>
<p><img src="/images/IMG_20140707_2149471.jpg" alt=""><br><img src="/images/IMG_20140707_2301481.jpg" alt=""><br><img src="/images/IMG_20140707_2347261.jpg" alt=""><br><img src="/images/IMG_20140708_0758191.jpg" alt=""><br><img src="/images/IMG_20140708_0757471.jpg" alt=""></p>
<h2 id="Configuration-avec-XBMC"><a href="#Configuration-avec-XBMC" class="headerlink" title="Configuration avec XBMC"></a>Configuration avec XBMC</h2><p>J’ai bataillé un moment avant de faire communiquer mon XBMC sous mon media center (Windows) avec le serveur Hyperion sur le Raspberry Pi.</p>
<p>La seule solution (à l’heure actuelle) que j’ai trouvé, c’est de passer par l’addon XBMC Boblight qui rend possible la communication entre XBMC et Hyperion sur le réseau.</p>
<p>J’ai testé l’addon Hyperion pour XBMC mais impossible d’établir une connexion…</p>
<h2 id="Videos"><a href="#Videos" class="headerlink" title="Vidéos"></a>Vidéos</h2><div class="video-container"><iframe src="//www.youtube.com/embed/OVBgoJScQIA" frameborder="0" allowfullscreen></iframe></div>
<div class="video-container"><iframe src="//www.youtube.com/embed/4Ka4kQxznlQ" frameborder="0" allowfullscreen></iframe></div>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Introduction&quot;&gt;&lt;a href=&quot;#Introduction&quot; class=&quot;headerlink&quot; title=&quot;Introduction&quot;&gt;&lt;/a&gt;Introduction&lt;/h2&gt;&lt;p&gt;Le système &lt;a href=&quot;http://en.
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Contrôle de prise Chacon DIO First via RaspberryPi</title>
    <link href="http://yoursite.com/2017/05/03/Controle-de-prise-Chacon-DIO-First-via-RaspberryPi/"/>
    <id>http://yoursite.com/2017/05/03/Controle-de-prise-Chacon-DIO-First-via-RaspberryPi/</id>
    <published>2017-05-03T08:58:40.000Z</published>
    <updated>2017-05-03T10:02:45.052Z</updated>
    
    <content type="html"><![CDATA[<p>Bonjour,</p>
<p>C’est donc mon premier article de domotique et également mon premier montage.</p>
<p>Cette article s’appuie sur les deux articles suivant :</p>
<ul>
<li><a href="http://www.homautomation.org/2013/10/09/how-to-control-di-o-devices-with-a-raspberry/" target="_blank" rel="external">How to control dio devices with a raspberry pi</a>;</li>
<li><a href="http://blog.idleman.fr/raspberry-pi-12-allumer-des-prises-distance/" target="_blank" rel="external">Raspberry Pi 12 – Allumer des prises à distance</a>.</li>
</ul>
<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>J’ai commencé depuis quelques temps à m’amuser à intégrer <a href="http://encausse.wordpress.com/s-a-r-a-h/" target="_blank" rel="external">S.A.R.A.H.</a> dans la maison via un media center maison.<br>Pour information, S.A.R.A.H. permet de communiquer avec l’ensemble des objets connectés de la maison via requête HTTP à l’aide de la voix.</p>
<p>J’ai fait l’acquisition de trois prises <a href="http://www.amazon.fr/prises-avec-t%C3%A9l%C3%A9commande-canaux-Chacon/dp/B005LKMAW0/ref=sr_1_1?ie=UTF8&amp;qid=1393325060&amp;sr=8-1&amp;keywords=chacon+dio" target="_blank" rel="external">Chacon DIO First</a> avec télécommande pour 30€ et d’un kit <a href="http://www.amazon.fr/gp/product/B00G23NW6S/ref=oh_details_o03_s00_i00?ie=UTF8&amp;psc=1" target="_blank" rel="external">récepteur/émetteur 433MHz</a> pour 3.45€ sur Amazon, il y a de ça une semaine.</p>
<p>Je possédais déjà un Raspberry Pi, je ne pense pas que ce soit très difficile à trouver, tellement c’est répandu maintenant !</p>
<p><img src="images/kit-3-prises-telecommandees-dio-first-dio-by-chacon-ref-54795-neuf-0617163001360086625-1.jpeg" alt=""></p>
<h2 id="Principe-amp-fonctionnement"><a href="#Principe-amp-fonctionnement" class="headerlink" title="Principe &amp; fonctionnement"></a>Principe &amp; fonctionnement</h2><p>Les prises Chacon DIO First fonctionne via radio fréquence en 433MHz.<br>Le principe est tout simple, reproduire les donnés émises par la télécommande via l’émétteur 433MHz couplé au Raspberry Pi.</p>
<p>La télécommande communique avec les prises via le protocole Easy Home, ce protocole compose le signal sous 32 bits ainsi :</p>
<ul>
<li>26 premiers bits correspondant à l’identifiant de la télécommande;</li>
<li>27 ème bit correspondant au numéro du groupe (non importante ici);</li>
<li>28 ème bit correspondant à l’état de la prise (ON=1 &amp; OFF=0);</li>
<li>29 à 32 èmes bits correspondant au numéro de la prise à commandée.</li>
</ul>
<p>Pour de meilleure explication, je vous réfère au tutoriel d’<a href="http://blog.idleman.fr/raspberry-pi-10-commander-le-raspberry-pi-par-radio/" target="_blank" rel="external">Idleman 10</a> sur le Raspberry Pi.</p>
<h2 id="Montage"><a href="#Montage" class="headerlink" title="Montage"></a>Montage</h2><p>Si vous n’avez jamais  jouer avec les ports GPIO du Raspberry Pi voici le montage à adopté pour faire fonctionner l’émetteur 433MHz.</p>
<p><img src="/images/RPi-copie-1024x742.jpg" alt=""></p>
<p>Vous pouvez voir sur le montage l’émetteur mais également le récepteur, ce n’est pas utile pour ce que l’on veut faire ici.</p>
<p>Pour l’astuce, un câble de ventilateur PC à trois pins convient parfaitement pour l’émetteur 433MHz ;)</p>
<p>Vous pouvez souder un fil conducteur à l’emplacement réservé à l’antenne (Ant) sur l’émetteur de 17,3cm, si vous voulez vous assurez de la bonne communication avec les prises.</p>
<p><img src="/images/rf433k-300x225.jpg" alt=""></p>
<h2 id="Logiciel"><a href="#Logiciel" class="headerlink" title="Logiciel"></a>Logiciel</h2><p>On passe ensuite au niveau logiciel sur le Raspberry Pi.</p>
<p>Il vous faut avant tout chose installer la librairie WiringPi, permettant de simplifier l’accès aux ports GPIO:</p>
<p>Installation de git</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install git-core</div></pre></td></tr></table></figure>
<p>Mise à jour de Raspbian</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sudo apt-get update</div><div class="line">sudo apt-get upgrade</div></pre></td></tr></table></figure>
<p>Récupération de WiringPi sur Git</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git clone git://git.drogon.net/wiringPi</div></pre></td></tr></table></figure>
<p>Récupération des dernières modifications de WiringPi</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">cd wiringPi</div><div class="line">git pull origin</div></pre></td></tr></table></figure>
<p>Construction de la librairie WiringPi</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">cd wiringPi</div><div class="line">./build</div></pre></td></tr></table></figure>
<p>Le code pour contrôler les prises est à récupéré sur le site d’<a href="http://projet.idleman.fr/domopi/data/hcc/hcc.zip" target="_blank" rel="external">Idleman</a> (merci à lui).</p>
<p>Dans ce zip se trouve, une interface web et le code C permettant le contrôle des prises Chacon. On ne s’occupera pas de l’interface web dans cette article.<br>Le fichier important est donc radioEmission, si vous voulez jouer avec le code, vous pouvez ouvrir  (et modifier) le fichier radioEmission.cpp et recompiler le fichie radioEmission à l’aide de la commande suivante :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">g++ radioEmission.cpp -o radioEmission -lwiringPi</div></pre></td></tr></table></figure>
<p>Il vous faudra bien entendu avoir installé g++ sur votre Raspbian.</p>
<p>Enfin, pour lancer une commande :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/VOTRE_REPERTOIRE/radioEmission 0 12345678 0 on</div></pre></td></tr></table></figure>
<ul>
<li>0 correspondant au numéro du WiringPi connecté au RaspberryPi, ici ça sera le pin physique 11 et donc le GPIO 0;</li>
<li>12345678 correspondant à l’identifiant de la télécommande de votre kit Chacon;</li>
<li>0 correspondant à la prise que vous voulez commandée (0, 1 ou 2);</li>
<li>on, correspondant à l’action à communiquer à la prise (on ou off).</li>
</ul>
<p>A savoir que le numéro identifiant la télécommande peut être différent de celui de votre télécommande, lorsque vous branchez une prise DIO First, elle passe en mode apprentissage pendant les 5 premières secondes (elle clignote). Pendant ce mode d’apprentissage, vous pouvez envoyer un signal (action on) avec un nouveau code qu’elle apprendra.</p>
<p>Si comme moi, vous apprenez malencontreusement le même code (identifiant et numéro de prise) à deux prises différentes, vous pouvez supprimer un apprentissage en envoyant une commande avec une action off lors de l’apprentissage de la prise en question.</p>
<p><img src="/images/IMG_20140225_0824301-1050x787.jpg" alt=""></p>
<p>Mon montage de l’émetteur 433MHz sur le Raspberry Pi</p>
<h2 id="Integration-a-S-A-R-A-H-Connaissances-du-projet-requises"><a href="#Integration-a-S-A-R-A-H-Connaissances-du-projet-requises" class="headerlink" title="Intégration à S.A.R.A.H. (Connaissances du projet requises)"></a>Intégration à S.A.R.A.H. (Connaissances du projet requises)</h2><p>Le plus gros est fait ! Vous pouvez maintenant commander vos prises en exécutant la commande sur votre Raspberry Pi de n’importe qu’elle façon.</p>
<p>Afin de lancer la commande via S.A.R.A.H. on va simplement exécuter la commande via SSH.</p>
<p>Pour cela il existe un plugin SSH sous S.A.R.A.H qui permet de faire ça tout simplement.</p>
<p>Commande pour S.A.R.A.H. en XML :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;item&gt;allume la lampe verte&lt;tag&gt;out.action.cmd_bash=&quot;recepteur1on.sh&quot;&lt;/tag&gt;&lt;/item&gt;</div></pre></td></tr></table></figure>
<p>Fichier recepteur1on.sh exécuté par S.A.R.A.H. :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo /var/www/hcc/radioEmission 0 11646814 1 on</div></pre></td></tr></table></figure>
<p>Et on termine tout ça par une petite démonstration vidéo ;)</p>
<div class="video-container"><iframe src="//www.youtube.com/embed/5D5x8Kth6k8" frameborder="0" allowfullscreen></iframe></div>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Bonjour,&lt;/p&gt;
&lt;p&gt;C’est donc mon premier article de domotique et également mon premier montage.&lt;/p&gt;
&lt;p&gt;Cette article s’appuie sur les deux 
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Ambi-like avec 240 LED WS2812B et une Teensy 2.0</title>
    <link href="http://yoursite.com/2017/05/03/Ambi-like-avec-240-LED-WS2812B-et-une-Teensy-2-0/"/>
    <id>http://yoursite.com/2017/05/03/Ambi-like-avec-240-LED-WS2812B-et-une-Teensy-2-0/</id>
    <published>2017-05-03T08:49:57.000Z</published>
    <updated>2017-05-03T08:56:17.022Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>J’ai terminé il y a quelques semaines la construction de mon bureau avec pc intégré. Je me devais d’y ajouter un peu de couleurs !</p>
<p>J’ai donc réalisé un nouvel Ambi-like avec une ruban de 4m composé de 240 LED WS2812B soit 60 LED par mètre contrairement à mon ancien Ambi-like de la télévision qui lui est constitué d’uniquement 50 LED WS2801.</p>
<p>J’en ai profité pour passer sur de l’Arduino-like (au lieu d’un Raspbery Pi), sur les conseils de plusieurs personnes, mon choix s’est porté sur une Teensy 2.0 vendu par <a href="http://www.pjrc.com/store/teensy.html" target="_blank" rel="external">PJRC</a> et qui permet de commander facilement un système Ambi-like.</p>
<p>Le but principal ici est de pouvoir restituer le flux vidéo de l’ordinateur sur les LED, on verra qu’il est également possible de capturer le sons et également mettre des couleurs dynamiques d’ambiance.</p>
<h2 id="Pourquoi-ce-choix-de-materiel"><a href="#Pourquoi-ce-choix-de-materiel" class="headerlink" title="Pourquoi ce choix de matériel ?"></a>Pourquoi ce choix de matériel ?</h2><p>Un système Ambi-like se fait généralement avec des LED WS2801 car elles sont adressables contrairement aux LED WS2811/WS2812. J’avoue avoir acheté ce ruban sur un coup de tête (le nombre de LED au mètre m’a attiré) sans avoir vérifié la compatibilité avec les systèmes Ambi-like du moment… Mais j’aime les défis et surtout les nouvelles choses :)</p>
<p><img src="images/strip_rgb_ws28121.jpg" alt=""></p>
<p>Pour le choix du contrôleur, j’avais déjà joué avec un Raspeberry Pi précédemment, je voulais donc tenter l’aventure sur un autre périphérique. Un Arduino correspond très bien au besoin, c’est petit, possède une faible consommation énergétique et il existe plusieurs systèmes d’Ambi-like dédiés. J’ai donc commandé une Tensy 2.0 qui est encore plus petite qu’un Arduino Uno et possède une plus grande puissance de calcul (ça se révélera important étant donné que mes LED ne sont pas adressables).</p>
<p><img src="images/teensy_2.jpg" alt=""></p>
<h2 id="Programmation"><a href="#Programmation" class="headerlink" title="Programmation"></a>Programmation</h2><p>J’ai donc découvert la programmation sous Arduino grâce à cette Teensy 2.0. A vrai dire avec quelques connaissance en C, c’est relativement simple !</p>
<p>Il existe un logiciel de développement dédié pour les Arduino, à <a href="http://arduino.cc/en/Main/Software" target="_blank" rel="external">télécharger ici</a>, par défaut Arduino ne prend pas en charge les Teensy, il faut donc télécharger et installer sur votre installation d’Arduino le ‘patch’ <a href="https://www.pjrc.com/teensy/td_download.html" target="_blank" rel="external">Teensyduino</a>.</p>
<p>Il embarque nativement des libraires de développement, à utiliser selon la fonction que vous voulez donner à votre système.</p>
<p>Ici, nous voulons commander notre ruban à LED via notre ordinateur en passant par la Teensy. Pour cela nous utiliserons deux logiciels concurrent nommés <a href="http://www.ambibox.ru/en/index.php/Main_Page" target="_blank" rel="external">Ambibox</a> et <a href="http://lightpack.tv/downloads" target="_blank" rel="external">Prismatik</a>.</p>
<p>Ces deux logiciels peuvent fonctionner en communiquant avec un système <a href="http://www.adafruit.com/products/461" target="_blank" rel="external">Adalight</a> (embarqué sur la Teensy).</p>
<p>Le problème, c’est qu’Adalight est développé pour fonctionner avec des LED 2801. Après quelques heures de recherches, j’ai réussi à trouver un <a href="https://code.google.com/p/adalight-ws2812/source/browse/0.9?spec=svn2&amp;r=2" target="_blank" rel="external">fork d’Adalight</a> fonctionnant avec des LED WS2812.</p>
<p>Ce fork d’Adalight repose malheureusement sur une ancienne librairie FastSPI_LED2 (permettant de commander des LED WS2811/WS2812), qui a évoluée et se trouve maintenant sous le nom FastLED (disponible sous l’éditeur Arduino).</p>
<p>J’ai donc résolu mon problème en modifiant légèrement le code du fork pour utiliser la dernière version de la librairie FastLED, ma version disponible sur <a href="https://github.com/Wifsimster/adalight_ws2812" target="_blank" rel="external">Github</a> (dernière mise à jour 22/11/2015).</p>
<p>Je ne vais pas vous expliquer comment charger le programme sur la Teensy, c’est très simple et repose sur le même principe que n’importe quel Arduino, pour plus d’informations, <a href="http://www.pjrc.com/teensy/loader_vista.html" target="_blank" rel="external">voir ici</a>.</p>
<h2 id="Montage"><a href="#Montage" class="headerlink" title="Montage"></a>Montage</h2><p>J’ai donc simplement découpé des bandes pour chaque longueur des écrans, bien penser à respecter le sens des flèches du ruban (pour le signal).</p>
<p>J’ai relié chaque bandes bout à bout par trois fils soudés de chaque côté et relié mon alimentation 5v 8A en entrée et sortie du ruban (préféré plusieurs points d’alimentation sur votre ruban).</p>
<p><img src="/images/IMG_20140921_1522391-1050x590.jpg" alt=""></p>
<p>Comme vous pouvez le voir ci-dessous, j’ai connecté les trois fils du ruban sur les ports VCC, GRD B1 de la Teensy 2.0. Le port B1 est paramétrable dans ma version de l’Adalight.</p>
<p><img src="/images/IMG_20140921_1523001.jpg" alt=""></p>
<h2 id="Communication-avec-Adalight"><a href="#Communication-avec-Adalight" class="headerlink" title="Communication avec Adalight"></a>Communication avec Adalight</h2><p>Adalight est très répandu et est de plus en plus reconnu par les logiciels Ambilight. J’ai donc testé les deux plus connus du moment, Prismatik et Ambibox !</p>
<p><img src="/images/IMG_20140921_1531451-1050x590.jpg" alt=""></p>
<h2 id="Update-22-11-2015"><a href="#Update-22-11-2015" class="headerlink" title="Update - 22/11/2015"></a>Update - 22/11/2015</h2><p>Suite à mon déménagement, j’ai dû me remettre dans la programmation de la Teensy et je viens donc d’en profiter pour mettre à jour ma version d’Adalight.</p>
<p>Le plus gros problème que j’ai eu après tout ce temps (et un nouvelle installation de Windows) c’est la configuration de Prismatik !</p>
<p>Penser à bien installer les drivers pour votre Teensy, les drivers sont embarqués dans le ‘patch’ <a href="https://www.pjrc.com/teensy/td_download.html" target="_blank" rel="external">Teensyduino</a> (voir au début de l’article) et par la suite récupéré le port dans la gestion de vos périphériques Windows.</p>
<p><img src="/images/periph.png" alt=""></p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Introduction&quot;&gt;&lt;a href=&quot;#Introduction&quot; class=&quot;headerlink&quot; title=&quot;Introduction&quot;&gt;&lt;/a&gt;Introduction&lt;/h2&gt;&lt;p&gt;J’ai terminé il y a quelques s
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Flash d’un ESP8266</title>
    <link href="http://yoursite.com/2017/05/03/Flash-d%E2%80%99un-ESP8266/"/>
    <id>http://yoursite.com/2017/05/03/Flash-d’un-ESP8266/</id>
    <published>2017-05-03T08:43:56.000Z</published>
    <updated>2017-05-03T08:49:17.106Z</updated>
    
    <content type="html"><![CDATA[<p><img src="images/all_esp_modules1.png" alt=""></p>
<h2 id="Prerequis"><a href="#Prerequis" class="headerlink" title="Prérequis"></a>Prérequis</h2><p>Voici les prérequis pour réaliser le flash d’un esp8266 :</p>
<ul>
<li>1 <a href="">esp8266 01</a>;</li>
<li>1 <a href="">FTDI FT232RL USB</a> to TTL;</li>
<li>1 alimenation 5v;</li>
<li>le firmware <a href="">nodemcu</a> afin de développer en LUA;</li>
<li>le logiciel <a href="">ESP8266Flasher</a> afin d’installer le firmware sur votre esp8266.</li>
</ul>
<h3 id="Note"><a href="#Note" class="headerlink" title="Note"></a>Note</h3><p>Vous avez besoin d’un bon régulateur 3.3v avec une alimentation qui peut délivrer de 500 à 600mA.<br>Si vous avez des erreurs dès le démarrage du wifi, l’alimentation est probablement en cause.</p>
<h2 id="ESP8266-pins"><a href="#ESP8266-pins" class="headerlink" title="ESP8266 pins"></a>ESP8266 pins</h2><p><img src="images/pins-1.jpg" alt=""></p>
<h2 id="Cablage"><a href="#Cablage" class="headerlink" title="Câblage"></a>Câblage</h2><p><img src="images/firmware-1050x558.png" alt=""></p>
<h3 id="Attention"><a href="#Attention" class="headerlink" title="Attention !"></a>Attention !</h3><p>N’utiliser pas le 3.3v de votre FTDI (si disponible) mais passer plutôt par un régulateur LF33CV (5v to 3.3v).</p>
<h2 id="Flash"><a href="#Flash" class="headerlink" title="Flash"></a>Flash</h2><p>La procédure est détaillée sur le <a href="https://github.com/nodemcu/nodemcu-flasher" target="_blank" rel="external">Github du projet</a>.</p>
<p>Veuillez à bien respecter la procédure dans l’ordre étape par étape.</p>
<p>Dès lors que votre ESP8266 est alimenté, vous pouvez lancer le logiciel.</p>
<p>Par défaut un firmware (NodeMCU) est embarqué.</p>
<p>A savoir qu’il existe plusieurs types de firmware, dont les deux plus populaires :</p>
<ul>
<li><a href="https://github.com/nodemcu/nodemcu-firmware" target="_blank" rel="external">NodeMCU</a> en LUA</li>
<li>ESP8266 AT en C</li>
</ul>
<p>Télécharger la dernier version de NodeMCU (actuellement nodemcu_float_0.9.6-dev_20150704).</p>
<p>Dans Config, supprimer toute la configuration et rajoutez uniquement nodemcu_float_0.9.6-dev_20150704.bin (en cochant bien la checkbox de gauche).</p>
<p><img src="images/config.png" alt=""></p>
<p>Dans Operation, séléctionner le port COM correspondant à votre FTDI et lancez le flash.</p>
<p>Si l’esp est bien détecté un QRcode doit apparaître dans la seconde et la barre de progression doit commencer à avancer.</p>
<p><img src="images/config_02.png" alt=""></p>
<p>A la fin de l’update, une icône verte apparaîtra pour confirmer le succès de l’opération.</p>
<p>Vous pouvez dès lors débrancher votre ESP8266 et retirer le GPIO_0 du GND.</p>
<h3 id="Probleme-de-detection"><a href="#Probleme-de-detection" class="headerlink" title="Problème de détection ?"></a>Problème de détection ?</h3><p>Si l’ESP8266 n’est pas détecté par le logiciel, débranchez et rebrancher l’alimentation de l’ESP8266 pour forcer la détection.</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;images/all_esp_modules1.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;Prerequis&quot;&gt;&lt;a href=&quot;#Prerequis&quot; class=&quot;headerlink&quot; title=&quot;Prérequis&quot;&gt;&lt;/a&gt;Prére
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Température et pression (BMP180) sous Jeedom via un ESP8266</title>
    <link href="http://yoursite.com/2017/05/03/Temperature-et-pression-BMP180-sous-Jeedom-via-un-ESP8266/"/>
    <id>http://yoursite.com/2017/05/03/Temperature-et-pression-BMP180-sous-Jeedom-via-un-ESP8266/</id>
    <published>2017-05-03T08:37:56.000Z</published>
    <updated>2017-05-03T08:42:20.805Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Materiel"><a href="#Materiel" class="headerlink" title="Matériel"></a>Matériel</h2><ul>
<li>1 <a href="http://www.ebay.fr/itm/ESP8266-Serial-WIFI-Wireless-TransceiveR-Module-Send-Receive-LWIP-AP-STA-/271935772447?hash=item3f50a2971f:g:QEYAAOSw9N1VrfAJ" target="_blank" rel="external">ESP8266</a>;</li>
<li>1 capteur <a href="http://www.ebay.fr/itm/BMP180-Replace-BMP085-Digital-Barometric-Pressure-Sensor-Board-Module-Arduino-IE-/281807948504?hash=item419d100ad8:g:rJIAAOSwVL1WApmE" target="_blank" rel="external">BMP180</a> (température et pression);</li>
<li>1 régulateur <a href="http://www.ebay.fr/itm/LF33CV-Regulateur-TO-220-3V3-0-5A-STM-lot-de-5-ou-10-/181701724632?var=&amp;hash=item2a4e4449d8:m:mzy0HUMgtVw3B4YO5VCN2-g" target="_blank" rel="external">LF33CV</a> (5v vers 3.3v);</li>
<li>1 résistance <a href="http://www.ebay.fr/itm/resistance-1-4w-0-25w-1-10-100-1K-10K-100K-ohms-/171088290472" target="_blank" rel="external">1kΩ</a> (pull-up). </li>
</ul>
<h2 id="Cablage"><a href="#Cablage" class="headerlink" title="Câblage"></a>Câblage</h2><p><img src="/images/bmp180.png" alt=""></p>
<h2 id="Jeedom"><a href="#Jeedom" class="headerlink" title="Jeedom"></a>Jeedom</h2><p>Créer un device virtuel.</p>
<p><img src="/images/bmp180_jeedom.png" alt=""></p>
<p>Veuillez à bien noter les ID de deux informations (température et pression), ici 535 et 536. Ces deux ID sont à insérer dans la requête HTTP à envoyer à Jeedom.</p>
<h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><p><a href="https://github.com/Wifsimster/bmp180/" target="_blank" rel="external">HTTP version</a></p>
<p><a href="https://github.com/Wifsimster/bmp180-mqtt" target="_blank" rel="external">MQTT version</a></p>
<h2 id="Resultat"><a href="#Resultat" class="headerlink" title="Résultat"></a>Résultat</h2><p><img src="/images/bmp180_res.png" alt=""></p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Materiel&quot;&gt;&lt;a href=&quot;#Materiel&quot; class=&quot;headerlink&quot; title=&quot;Matériel&quot;&gt;&lt;/a&gt;Matériel&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;1 &lt;a href=&quot;http://www.ebay.fr/itm/ESP826
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Distributeur de croquettes sous Jeedom via un ESP8266</title>
    <link href="http://yoursite.com/2017/05/03/Distributeur-de-croquettes-sous-Jeedom-via-un-ESP8266/"/>
    <id>http://yoursite.com/2017/05/03/Distributeur-de-croquettes-sous-Jeedom-via-un-ESP8266/</id>
    <published>2017-05-03T08:26:51.000Z</published>
    <updated>2017-05-03T08:37:13.839Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>Afin d’éviter LE problème quotidien : « nourrir le chat affamé », j’ai réalisé un distributeur connecté à Jeedom.</p>
<p>Ce distributeur est constitué d’un simple moteur 12v actionné par un double relais et contrôler par un ESP8266.</p>
<h2 id="Prerequis"><a href="#Prerequis" class="headerlink" title="Prérequis"></a>Prérequis</h2><p>Afin de réaliser ce montage, il vous faut :</p>
<ul>
<li>1 <a href="http://www.ebay.fr/itm/ESP8266-Serial-WIFI-Wireless-TransceiveR-Module-Send-Receive-LWIP-AP-STA-/271935772447?hash=item3f50a2971f:g:QEYAAOSw9N1VrfAJ" target="_blank" rel="external">ESP8266</a>;</li>
<li>1 régulateur <a href="http://www.ebay.fr/itm/LF33CV-Regulateur-TO-220-3V3-0-5A-STM-lot-de-5-ou-10-/181701724632?var=&amp;hash=item2a4e4449d8:m:mzy0HUMgtVw3B4YO5VCN2-g" target="_blank" rel="external">LF33CV</a> (5v vers 3.3v);</li>
<li>1 résistance <a href="http://www.ebay.fr/itm/resistance-1-4w-0-25w-1-10-100-1K-10K-100K-ohms-/171088290472" target="_blank" rel="external">1kΩ</a> (pull-up);</li>
<li>1 <a href="http://www.ebay.com/itm/1pcs-5V-2-Channel-Relay-Module-for-Arduino-PIC-ARM-DSP-AVR-Electronic-/400985229770?hash=item5d5c9509ca:g:cJgAAOxy86RSY-Jq" target="_blank" rel="external">double relais</a> module (5v).</li>
</ul>
<h2 id="Principe"><a href="#Principe" class="headerlink" title="Principe"></a>Principe</h2><p>Le distributeur est constitué d’un moteur 12v qui fait tourner une tige filetée à laquelle est fixé un plateau.</p>
<p>Le plateau est verrouillé en rotation par deux fine tiges à la base du distributeur.</p>
<p>En conséquence, selon le sens de rotation du moteur, la plateau descend ou monte.</p>
<p>Un tuyau  de plus gros diamètre englobe le tout afin de récupérer les croquettes et les verse à la base par un bec.</p>
<p>Le distributeur est connecté à Jeedom par un ESP8266 et actionne le double relais sur requête HTTP.</p>
<p><img src="/images/cat_feeder.jpg" alt=""><br><img src="/images/cat_feeder_02.jpg" alt=""><br><img src="/images/cat_feeder_03.jpg" alt=""></p>
<h2 id="Cablage"><a href="#Cablage" class="headerlink" title="Câblage"></a>Câblage</h2><p><img src="/images/relay_command.png" alt=""></p>
<h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><p><a href="https://github.com/Wifsimster/distributeur-lua" target="_blank" rel="external">Github</a></p>
<h2 id="Jeedom"><a href="#Jeedom" class="headerlink" title="Jeedom"></a>Jeedom</h2><p>Création d’un script pour communiquer avec l’esp8266 du distributeur :</p>
<p><img src="/images/cat_feeder_jeedom.png" alt=""></p>
<p>Création d’un virtuel pour interagir avec le script précédent :</p>
<p><img src="/images/cat_feeder_virtual.png" alt=""></p>
<p>Création d’un scénario pour automatiser la distribution des croquettes :</p>
<p><img src="/images/cat_feeder_scenari.png" alt=""></p>
<h2 id="Resultat"><a href="#Resultat" class="headerlink" title="Résultat"></a>Résultat</h2><p><img src="/images/cat_feeder_dash.png" alt=""></p>
<div class="video-container"><iframe src="//www.youtube.com/embed/_gSTuAhnkl0" frameborder="0" allowfullscreen></iframe></div>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Introduction&quot;&gt;&lt;a href=&quot;#Introduction&quot; class=&quot;headerlink&quot; title=&quot;Introduction&quot;&gt;&lt;/a&gt;Introduction&lt;/h2&gt;&lt;p&gt;Afin d’éviter LE problème quot
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Communication sans fil indépendante via deux esp8266</title>
    <link href="http://yoursite.com/2017/04/25/Communication-sans-fil-independante-via-deux-esp8266/"/>
    <id>http://yoursite.com/2017/04/25/Communication-sans-fil-independante-via-deux-esp8266/</id>
    <published>2017-04-25T18:59:33.000Z</published>
    <updated>2017-04-25T19:12:03.892Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>La problématique de ce projet est de réaliser soit même une communication sans fil. Dans ce cas précis, une communication wifi et autonome, c’est à dire sans point d’accès provenant d’un routeur (ou autre box). Le but final étant de relier une cellule IR de détection de présence (se trouvant à l’extérieur) à une alarme (à l’intérieur de la maison).</p>
<h2 id="Prerequis"><a href="#Prerequis" class="headerlink" title="Prérequis"></a>Prérequis</h2><p>Je pars du principe que :</p>
<p>la détection de présence sur la cellule IR provoque un état haut sur une entrée GPIO;<br>l’alarme sera mise en fonction via un état haut d’une sortie GPIO.<br>Il vous faudra :</p>
<ul>
<li>2 <a href="http://www.ebay.com/itm/ESP8266-Serial-WIFI-Wireless-Transceiver-Module-Send-Receive-LWIP-Support-AP-STA-/171653455849?hash=item27f757dfe9:g:KDkAAOSw-W5Uwh9z" target="_blank" rel="external">ESP8266</a>;</li>
<li>2 régulateurs <a href="http://www.ebay.com/itm/LF33CV-Original-New-ST-Transistor-/400409071685?hash=item5d3a3d9045:g:pF4AAMXQk-FRE8mt" target="_blank" rel="external">LF33CV</a>;</li>
<li>2 résistances <a href="http://www.ebay.com/itm/1000PCS-1K-1K-Ohm-1-4W-0-25W-5-Carbon-Film-Resistors-Resistance-/252071106631?hash=item3ab09bd847:g:ymUAAOSwjVVV3nVm" target="_blank" rel="external">1KΩ</a>.</li>
</ul>
<p>Attention !<br>Le code est en LUA et nécessite donc d’avoir les ESP8266 avec le firmware nodemcu.</p>
<h2 id="Principe"><a href="#Principe" class="headerlink" title="Principe"></a>Principe</h2><p>Un esp va servir de serveur, c’est à dire qu’il va :</p>
<ol>
<li>Déclarer son propre point d’accès wifi;</li>
<li>Instancier un serveur HTTP;</li>
<li>Attendre une requête HTTP et produire une action en conséquence de cette requête.</li>
</ol>
<p>Le deuxième esp va lui servir de client, c’est à dire qu’il va :</p>
<ol>
<li>Essayer de se connecter sur le point d’accès wifi du serveur (pendant 1 min, led verte clignotante);</li>
<li>Allumer la led verte pour indiquer que la connexion au serveur est établie;</li>
<li>Attendre un changement d’état du port GPIO_2 (la cellule IR);</li>
<li>Envoyer une requête HTTP au serveur avec l’état du port GPIO_2;</li>
</ol>
<h2 id="Schemas"><a href="#Schemas" class="headerlink" title="Schémas"></a>Schémas</h2><p><img src="/images/scheme-client.png" alt=""></p>
<p><img src="/images/scheme-server.png" alt=""></p>
<h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><p><a href="https://github.com/Wifsimster/soft-ap-client" target="_blank" rel="external">Client</a> | <a href="https://github.com/Wifsimster/soft-ap" target="_blank" rel="external">Serveur</a></p>
<h2 id="Realisation"><a href="#Realisation" class="headerlink" title="Réalisation"></a>Réalisation</h2><p><img src="/images/image_client.jpg" alt=""></p>
<p><img src="/images/image_server.jpg" alt=""></p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Introduction&quot;&gt;&lt;a href=&quot;#Introduction&quot; class=&quot;headerlink&quot; title=&quot;Introduction&quot;&gt;&lt;/a&gt;Introduction&lt;/h2&gt;&lt;p&gt;La problématique de ce projet 
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Luminosité sous Jeedom via un ESP8266</title>
    <link href="http://yoursite.com/2017/04/25/Luminosite-sous-Jeedom-via-un-ESP8266/"/>
    <id>http://yoursite.com/2017/04/25/Luminosite-sous-Jeedom-via-un-ESP8266/</id>
    <published>2017-04-25T18:52:21.000Z</published>
    <updated>2017-04-25T18:58:28.435Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>Cet article met en avant la mise en place d’un capteur TSL2561 et d’un ESP8266 afin de récupérer la luminosité sous Jeedom.</p>
<p>La communication des données se fera à travers un broker MQTT.</p>
<h2 id="Prerequis"><a href="#Prerequis" class="headerlink" title="Prérequis"></a>Prérequis</h2><p>Pour réaliser ce montage, il vous faut :</p>
<ul>
<li>1 <a href="http://www.ebay.fr/itm/ESP8266-Serial-WIFI-Wireless-TransceiveR-Module-Send-Receive-LWIP-AP-STA-/271935772447?hash=item3f50a2971f:g:QEYAAOSw9N1VrfAJ" target="_blank" rel="external">ESP8266</a>;</li>
<li>1 capteur <a href="http://www.ebay.fr/itm/TSL2561-Luminosity-Sensor-Breakout-infrared-Light-Sensor-integrating-sensor-/271789914195?hash=item3f47f0f853:g:bMIAAOSwNSxU8R-w" target="_blank" rel="external">TSL2561</a>;</li>
<li>1 régulateur <a href="http://www.ebay.fr/itm/LF33CV-Regulateur-TO-220-3V3-0-5A-STM-lot-de-5-ou-10-/181701724632?var=&amp;hash=item2a4e4449d8:m:mzy0HUMgtVw3B4YO5VCN2-g" target="_blank" rel="external">LF33CV</a> (5v vers 3.3v);</li>
<li>1 résistance <a href="http://www.ebay.fr/itm/resistance-1-4w-0-25w-1-10-100-1K-10K-100K-ohms-/171088290472" target="_blank" rel="external">1kΩ</a> (pull-up).</li>
</ul>
<p>Attention !<br>Le code est en LUA et nécessite donc d’avoir l’ESP8266 avec le firmware nodemcu.</p>
<h2 id="Cablage"><a href="#Cablage" class="headerlink" title="Câblage"></a>Câblage</h2><p>[En attente du capteur TSL2561 sous Fritzing]</p>
<h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><p><a href="https://github.com/Wifsimster/tsl2561-mqtt" target="_blank" rel="external">Github</a></p>
<h2 id="Principe"><a href="#Principe" class="headerlink" title="Principe"></a>Principe</h2><p>Le principe est le suivant :</p>
<ol>
<li>L’ESP créé un client MQTT avec un id unique;</li>
<li>Il se connecte au broker MQTT;</li>
<li>A chaque changement de valeur du capteur TSL2561, le client MQTT publie les données sur un topic particulier;</li>
<li>Le broker MQTT reçoit les données et les publie pour chaque client ayant souscrit à ce topic.</li>
</ol>
<h2 id="Jeedom"><a href="#Jeedom" class="headerlink" title="Jeedom"></a>Jeedom</h2><p>Il vous faut tout d’abord installer le plugin gratuit MQTT dans Jeedom.</p>
<p>Dès lors que votre ESP8266 publiera sur le broker MQTT, le plugin Jeedom ajoutera automatiquement le device TSL2561 :</p>
<p><img src="/images/tsl2561_mqtt.png" alt=""></p>
<p><img src="/images/tsl2561_device.png" alt=""></p>
<h2 id="Resultat"><a href="#Resultat" class="headerlink" title="Résultat"></a>Résultat</h2><p><img src="/images/tsl2561_jeedom.png" alt=""></p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Introduction&quot;&gt;&lt;a href=&quot;#Introduction&quot; class=&quot;headerlink&quot; title=&quot;Introduction&quot;&gt;&lt;/a&gt;Introduction&lt;/h2&gt;&lt;p&gt;Cet article met en avant la mi
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Affichage de valeurs sur un écran I2C via un ESP8266</title>
    <link href="http://yoursite.com/2017/04/21/Affichage-de-valeurs-sur-un-ecran-I2C-via-un-ESP8266/"/>
    <id>http://yoursite.com/2017/04/21/Affichage-de-valeurs-sur-un-ecran-I2C-via-un-ESP8266/</id>
    <published>2017-04-21T15:33:30.000Z</published>
    <updated>2017-04-25T18:53:18.269Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>Cet article met en avant l’utilisation d’un écran I2C OLED et d’un ESP8266 afin d’afficher des valeurs en provenance d’un broker MQTT.</p>
<h2 id="Prerequis"><a href="#Prerequis" class="headerlink" title="Prérequis"></a>Prérequis</h2><p>Pour réaliser ce montage, il vous faut :</p>
<ul>
<li>1 <a href="http://www.ebay.fr/itm/ESP8266-Serial-WIFI-Wireless-TransceiveR-Module-Send-Receive-LWIP-AP-STA-/271935772447?hash=item3f50a2971f:g:QEYAAOSw9N1VrfAJ" target="_blank" rel="external">ESP8266</a>;</li>
<li>1 écran <a href="http://www.ebay.com/itm/0-96-I2C-IIC-SPI-Serial-128X64-White-OLED-LCD-LED-Display-Module-for-Arduino-/201428440360?hash=item2ee6121528:g:MOYAAOSwv0tVeD0N" target="_blank" rel="external">I2C 128×64 OLED</a>;</li>
<li>1 régulateur <a href="http://www.ebay.fr/itm/LF33CV-Regulateur-TO-220-3V3-0-5A-STM-lot-de-5-ou-10-/181701724632?var=&amp;hash=item2a4e4449d8:m:mzy0HUMgtVw3B4YO5VCN2-g" target="_blank" rel="external">LF33CV</a> (5v vers 3.3v);</li>
<li>1 résistance <a href="http://www.ebay.fr/itm/resistance-1-4w-0-25w-1-10-100-1K-10K-100K-ohms-/171088290472" target="_blank" rel="external">1kΩ</a> (pull-up);</li>
<li>2 résistances <a href="http://www.ebay.com/itm/100PCS-4-7K-4K7-Ohms-1-4W-0-25W-5-Carbon-Film-Resistors-Resistance-/252071125870?hash=item3ab09c236e:g:k9EAAOSwjVVV3n3n" target="_blank" rel="external">4.7kΩ</a>.</li>
</ul>
<p>Attention !<br>Le code est en LUA et nécessite donc d’avoir l’ESP8266 avec le firmware nodemcu.</p>
<h2 id="Cablage"><a href="#Cablage" class="headerlink" title="Câblage"></a>Câblage</h2><p><img src="/images/i2c_display_scheme.png" alt=""></p>
<h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><p><a href="https://github.com/Wifsimster/i2c-display-mqtt" target="_blank" rel="external">Github</a></p>
<h2 id="Principe"><a href="#Principe" class="headerlink" title="Principe"></a>Principe</h2><p>Le principe est le suivant :</p>
<ol>
<li>L’ESP créé un client MQTT avec un id unique;</li>
<li>Il se connecte au broker MQTT;</li>
<li>Le client souscrit à un topic particulier où les données que l’on désire sont publiées;</li>
<li>L’ESP affiche une première fois les données à l’écran;</li>
<li>Puis à chaque fois que le broker MQTT reçoit des nouvelles données sur ce topic, notre client met à jour les données à l’écran.</li>
</ol>
<h2 id="Resultat"><a href="#Resultat" class="headerlink" title="Résultat"></a>Résultat</h2><p><img src="/images/i2c_display.jpg" alt=""></p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Introduction&quot;&gt;&lt;a href=&quot;#Introduction&quot; class=&quot;headerlink&quot; title=&quot;Introduction&quot;&gt;&lt;/a&gt;Introduction&lt;/h2&gt;&lt;p&gt;Cet article met en avant l’uti
    
    </summary>
    
    
  </entry>
  
</feed>
