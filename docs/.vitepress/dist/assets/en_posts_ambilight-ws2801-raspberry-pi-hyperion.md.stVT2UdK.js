import{_ as a,c as s,o as r,ah as t,j as i,ak as n,al as l,am as o,an as p,ao as h,ap as d,aq as c,ar as u,as as k,at as m,au as g,av as b}from"./chunks/framework.CfqOJIEo.js";const P=JSON.parse(`{"title":"Ambi-like avec un ruban WS2801, un Raspberry Pi et Hyperion","description":"Réalisation d'un système Ambi-like DIY avec un ruban de 50 LED WS2801, un Raspberry Pi et le logiciel Hyperion pour reproduire l'effet Ambilight de Philips.","frontmatter":{"title":"Ambi-like avec un ruban WS2801, un Raspberry Pi et Hyperion","date":"2014-07-09T00:00:00.000Z","description":"Réalisation d'un système Ambi-like DIY avec un ruban de 50 LED WS2801, un Raspberry Pi et le logiciel Hyperion pour reproduire l'effet Ambilight de Philips.","tags":["Ambilight","WS2801","Raspberry-Pi","DIY"]},"headers":[],"relativePath":"en/posts/ambilight-ws2801-raspberry-pi-hyperion.md","filePath":"en/posts/ambilight-ws2801-raspberry-pi-hyperion.md"}`),y={name:"en/posts/ambilight-ws2801-raspberry-pi-hyperion.md"};function f(F,e,C,_,v,B){return r(),s("div",null,[...e[0]||(e[0]=[t('<h2 id="introduction" tabindex="-1">Introduction <a class="header-anchor" href="#introduction" aria-label="Permalink to “Introduction”">​</a></h2><p>Le système <a href="http://en.wikipedia.org/wiki/Ambilight" target="_blank" rel="noreferrer">Ambilight</a> de chez Phiilips m&#39;a fait les yeux doux depuis trop longtemps, je me suis donc décidé à faire un système Ambilight en <a href="http://fr.wikipedia.org/wiki/Do_it_yourself" target="_blank" rel="noreferrer">DIY</a>. Les projets et tuto ne manquent pas sur le net, beaucoup de personnes se sont essayé à l&#39;exercice et certains softs sont même très complet maintenant (Hyperion pour ne pas le citer).</p><h2 id="materiel" tabindex="-1">Matériel <a class="header-anchor" href="#materiel" aria-label="Permalink to “Matériel”">​</a></h2><p>Au niveau du matériel, j&#39;ai choisi un ruban à 50 leds, une alimentation 5v 8A et un connecteur d&#39;alimentation jack.</p><ul><li>1 ruban de 50 <a href="http://www.ebay.fr/itm/50PCS-WS2801-RGB-Full-Color-12mm-Pixels-digital-Addressable-LED-String-DC-5V-/121159316753?pt=US_Car_Lighting&amp;hash=item1c35a87511" target="_blank" rel="noreferrer">LED WS2801</a> pour 21€ ;</li><li>1 alimentation <a href="http://www.ebay.fr/itm/5V-8A-Power-supply-AC-to-DC-Adapter-for-WS2811-WS2801-HL8806-LED-String-Light-/121153648301?hash=item1c3551f6ad&amp;pt=US_Lighting_Parts_and_Accessories" target="_blank" rel="noreferrer">5V 8A</a> pour 12€ ;</li><li>1 connecteur d&#39;alimentation jack (à l&#39;<a href="http://www.amazon.fr/gp/product/B006WJL7Y6/ref=oh_details_o00_s00_i00?ie=UTF8&amp;psc=1" target="_blank" rel="noreferrer">unité 3€</a> ou <a href="http://www.amazon.fr/gp/product/B008H2HLUA/ref=oh_details_o08_s00_i00?ie=UTF8&amp;psc=1" target="_blank" rel="noreferrer">10 pour 7€</a>).</li></ul><h2 id="prototype" tabindex="-1">Prototype <a class="header-anchor" href="#prototype" aria-label="Permalink to “Prototype”">​</a></h2><p>J&#39;ai commencé par réaliser un cadre avec des morceaux de MDF qui ne me servaient à rien. C&#39;est léger, facile à travaillé mais vite fragilisé avec les trous vu l&#39;épaisseur.</p><p><img src="'+n+'" alt="Prototype 1"></p><p><img src="'+l+'" alt="Prototype 2"></p><p><img src="'+o+'" alt="Prototype 3"></p><p><img src="'+p+'" alt="Prototype 4"></p><p><img src="'+h+'" alt="Prototype 5"></p><h2 id="connexion-avec-le-raspberry-pi" tabindex="-1">Connexion avec le Raspberry Pi <a class="header-anchor" href="#connexion-avec-le-raspberry-pi" aria-label="Permalink to “Connexion avec le Raspberry Pi”">​</a></h2><p>La connexion avec le Raspberry Pi est relativement simple, comme vous pouvez le voir sur le schéma ci-dessous.</p><p>Les LED étant sensibles au voltage, il est préférable de les alimenter avec une alimentation extérieure connectée en parallèle au 5v du port GPIO.</p><p><img src="'+d+`" alt="Schéma connexion"></p><h2 id="installation-d-hyperion" tabindex="-1">Installation d&#39;Hyperion <a class="header-anchor" href="#installation-d-hyperion" aria-label="Permalink to “Installation d&#39;Hyperion”">​</a></h2><p>Le plus simple pour utiliser Hyperion est d&#39;utiliser une <a href="http://www.raspberrypi.org/downloads/" target="_blank" rel="noreferrer">Raspbian</a> sur votre Raspberry Pi, si jamais vous voulez absoluement tourner sur un aure OS je vous repporte sur le wiki d&#39;Hyperion qui explique la procédure supplémentaire à suivre <a href="https://github.com/tvdzwan/hyperion/wiki/installation" target="_blank" rel="noreferrer">ici</a>.</p><p>En premier lieu, une installation de quelques librairies est nécessaire pour faire tourner Hyperion sur votre Raspberi Pi.</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> libqtcore4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> libqtgui4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> libqt4-network</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> libusb-1.0-0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> libprotobuf7</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ca-certificates</span></span></code></pre></div><p>Ensuite téléchargé et déployé Hyperion.</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wget</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -N</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://raw.github.com/tvdzwan/hyperion/master/bin/install_hyperion.sh</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./install_hyperion.sh</span></span></code></pre></div><p>A savoir qu&#39;Hyperion se lancera automatiquement dès le prochain démarrage du Raspberry Pi.</p><p>Vous pouvez ensuite tester simple d&#39;allumer votre ruban en rouge.</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">hyperion-remote</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --priority</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 50</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --color</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> red</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --duration</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5000</span></span></code></pre></div><p>Si vous souhaité désactiver le lancement automatique d&#39;Hyperion au démarrage.</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /sbin/initctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hyperion</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/init/hyperion.conf</span></span></code></pre></div><p>Pour information, je n&#39;ai pas réussi à faire fonctionner mon connecteur usb/wifi Edimax sur la Raspbmc alors qu&#39;il fonctionnait très bien sur ma Raspbian, je me suis donc résolu à connecter mon Raspberry Pi en RJ45.</p><p>Il existe une application Android gratuite pour contrôler le serveur Hyperion à distance, disponible sur le <a href="https://play.google.com/store/apps/details?id=nl.hyperion.hyperionfree" target="_blank" rel="noreferrer">store</a>.</p><h2 id="configuration-d-hyperion" tabindex="-1">Configuration d&#39;Hyperion <a class="header-anchor" href="#configuration-d-hyperion" aria-label="Permalink to “Configuration d&#39;Hyperion”">​</a></h2><p>Hyperion possède un logiciel de paramétrage très bien fait, nommé <a href="https://github.com/tvdzwan/hyperion/wiki/configuration" target="_blank" rel="noreferrer">HyperCon</a>, il permet de gérer l&#39;ensemble des LED (position, couleurs, éclairage, taille, …). L&#39;ensemble des possibilités est détaillées dans le lien précédent.</p><p>Hypercon va donc vous générer un fichier hyperion.config.json à déposer par défaut dans /etc.</p><p><img src="`+c+'" alt="HyperCon"></p><h2 id="cadre-en-acier" tabindex="-1">Cadre en acier <a class="header-anchor" href="#cadre-en-acier" aria-label="Permalink to “Cadre en acier”">​</a></h2><p>Mon cadre en MDF n&#39;étant pas très résistant, j&#39;ai acheté quelques cornières en acier, que j&#39;ai découpé et ensuite peinte. Le résultat est bien mieux, l&#39;ensemble est solide, léger et tient bien mieux à la TV.</p><p><img src="'+u+'" alt="Cadre acier 1"></p><p><img src="'+k+'" alt="Cadre acier 2"></p><p><img src="'+m+'" alt="Cadre acier 3"></p><p><img src="'+g+'" alt="Cadre acier 4"></p><p><img src="'+b+'" alt="Cadre acier 5"></p><h2 id="configuration-avec-xbmc" tabindex="-1">Configuration avec XBMC <a class="header-anchor" href="#configuration-avec-xbmc" aria-label="Permalink to “Configuration avec XBMC”">​</a></h2><p>J&#39;ai bataillé un moment avant de faire communiquer mon XBMC sous mon media center (Windows) avec le serveur Hyperion sur le Raspberry Pi.</p><p>La seule solution (à l&#39;heure actuelle) que j&#39;ai trouvé, c&#39;est de passer par l&#39;addon XBMC Boblight qui rend possible la communication entre XBMC et Hyperion sur le réseau.</p><p>J&#39;ai testé l&#39;addon Hyperion pour XBMC mais impossible d&#39;établir une connexion…</p><h2 id="videos" tabindex="-1">Vidéos <a class="header-anchor" href="#videos" aria-label="Permalink to “Vidéos”">​</a></h2>',45),i("iframe",{src:"//www.youtube.com/embed/OVBgoJScQIA",frameborder:"0",allowfullscreen:""},null,-1),i("iframe",{src:"//www.youtube.com/embed/4Ka4kQxznlQ",frameborder:"0",allowfullscreen:""},null,-1)])])}const x=a(y,[["render",f]]);export{P as __pageData,x as default};
