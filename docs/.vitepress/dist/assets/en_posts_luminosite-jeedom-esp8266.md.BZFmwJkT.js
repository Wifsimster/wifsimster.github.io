import{_ as a,c as r,o as t,ah as i,bz as n,bA as o,bB as s}from"./chunks/framework.CfqOJIEo.js";const b=JSON.parse(`{"title":"Luminosité sous Jeedom via un ESP8266","description":"Cet article met en avant la mise en place d'un capteur TSL2561 et d'un ESP8266 afin de récupérer la luminosité sous Jeedom. La communication des données se fera à travers un broker MQTT.","frontmatter":{"title":"Luminosité sous Jeedom via un ESP8266","date":"2016-04-15T00:00:00.000Z","description":"Cet article met en avant la mise en place d'un capteur TSL2561 et d'un ESP8266 afin de récupérer la luminosité sous Jeedom. La communication des données se fera à travers un broker MQTT.","tags":["ESP8266","NodeMCU","Jeedom"]},"headers":[],"relativePath":"en/posts/luminosite-jeedom-esp8266.md","filePath":"en/posts/luminosite-jeedom-esp8266.md"}`),l={name:"en/posts/luminosite-jeedom-esp8266.md"};function u(d,e,c,p,m,h){return t(),r("div",null,[...e[0]||(e[0]=[i('<h2 id="introduction" tabindex="-1">Introduction <a class="header-anchor" href="#introduction" aria-label="Permalink to “Introduction”">​</a></h2><p>Cet article met en avant la mise en place d&#39;un capteur TSL2561 et d&#39;un ESP8266 afin de récupérer la luminosité sous Jeedom.</p><p>La communication des données se fera à travers un broker MQTT.</p><h2 id="prerequis" tabindex="-1">Prérequis <a class="header-anchor" href="#prerequis" aria-label="Permalink to “Prérequis”">​</a></h2><p>Pour réaliser ce montage, il vous faut :</p><ul><li>1 <a href="http://www.ebay.fr/itm/ESP8266-Serial-WIFI-Wireless-TransceiveR-Module-Send-Receive-LWIP-AP-STA-/271935772447?hash=item3f50a2971f:g:QEYAAOSw9N1VrfAJ" target="_blank" rel="noreferrer">ESP8266</a>;</li><li>1 capteur <a href="http://www.ebay.fr/itm/TSL2561-Luminosity-Sensor-Breakout-infrared-Light-Sensor-integrating-sensor-/271789914195?hash=item3f47f0f853:g:bMIAAOSwNSxU8R-w" target="_blank" rel="noreferrer">TSL2561</a>;</li><li>1 régulateur <a href="http://www.ebay.fr/itm/LF33CV-Regulateur-TO-220-3V3-0-5A-STM-lot-de-5-ou-10-/181701724632?var=&amp;hash=item2a4e4449d8:m:mzy0HUMgtVw3B4YO5VCN2-g" target="_blank" rel="noreferrer">LF33CV</a> (5v vers 3.3v);</li><li>1 résistance <a href="http://www.ebay.fr/itm/resistance-1-4w-0-25w-1-10-100-1K-10K-100K-ohms-/171088290472" target="_blank" rel="noreferrer">1kΩ</a> (pull-up).</li></ul><p><strong>Attention !</strong><br> Le code est en LUA et nécessite donc d&#39;avoir l&#39;ESP8266 avec le firmware nodemcu.</p><h2 id="cablage" tabindex="-1">Câblage <a class="header-anchor" href="#cablage" aria-label="Permalink to “Câblage”">​</a></h2><p>[En attente du capteur TSL2561 sous Fritzing]</p><h2 id="code" tabindex="-1">Code <a class="header-anchor" href="#code" aria-label="Permalink to “Code”">​</a></h2><p><a href="https://github.com/Wifsimster/tsl2561-mqtt" target="_blank" rel="noreferrer">Github</a></p><h2 id="principe" tabindex="-1">Principe <a class="header-anchor" href="#principe" aria-label="Permalink to “Principe”">​</a></h2><p>Le principe est le suivant :</p><ol><li>L&#39;ESP créé un client MQTT avec un id unique;</li><li>Il se connecte au broker MQTT;</li><li>A chaque changement de valeur du capteur TSL2561, le client MQTT publie les données sur un topic particulier;</li><li>Le broker MQTT reçoit les données et les publie pour chaque client ayant souscrit à ce topic.</li></ol><h2 id="jeedom" tabindex="-1">Jeedom <a class="header-anchor" href="#jeedom" aria-label="Permalink to “Jeedom”">​</a></h2><p>Il vous faut tout d&#39;abord installer le plugin gratuit MQTT dans Jeedom.</p><p>Dès lors que votre ESP8266 publiera sur le broker MQTT, le plugin Jeedom ajoutera automatiquement le device TSL2561 :</p><p><img src="'+n+'" alt="TSL2561 MQTT"></p><p><img src="'+o+'" alt="TSL2561 Device"></p><h2 id="resultat" tabindex="-1">Résultat <a class="header-anchor" href="#resultat" aria-label="Permalink to “Résultat”">​</a></h2><p><img src="'+s+'" alt="TSL2561 Jeedom"></p>',21)])])}const T=a(l,[["render",u]]);export{b as __pageData,T as default};
