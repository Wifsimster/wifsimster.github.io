<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Ambi-like avec un ruban WS2801, un Raspberry Pi et Hyperion | VitePress</title>
    <meta name="description" content="Réalisation d'un système Ambi-like DIY avec un ruban de 50 LED WS2801, un Raspberry Pi et le logiciel Hyperion pour reproduire l'effet Ambilight de Philips.">
    <meta name="generator" content="VitePress v2.0.0-alpha.15">
    <link rel="preload stylesheet" href="/assets/style.BgQj3CDO.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.CHZW5mh9.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.n8570wft.js">
    <link rel="modulepreload" href="/assets/chunks/framework.CfqOJIEo.js">
    <link rel="modulepreload" href="/assets/en_posts_ambilight-ws2801-raspberry-pi-hyperion.md.stVT2UdK.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-1df9f90f><!--[--><!--]--><!--[--><span tabindex="-1" data-v-331ec75c></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-331ec75c>Skip to content</a><!--]--><!----><header class="VPNav" data-v-1df9f90f data-v-da52a441><div class="VPNavBar" data-v-da52a441 data-v-70946a35><div class="wrapper" data-v-70946a35><div class="container" data-v-70946a35><div class="title" data-v-70946a35><div class="VPNavBarTitle" data-v-70946a35 data-v-1e38c6bc><a class="title" href="/" data-v-1e38c6bc><!--[--><!--]--><!----><span data-v-1e38c6bc>VitePress</span><!--[--><!--]--></a></div></div><div class="content" data-v-70946a35><div class="content-body" data-v-70946a35><!--[--><!--]--><div class="VPNavBarSearch search" data-v-70946a35><!----></div><!----><!----><div class="VPNavBarAppearance appearance" data-v-70946a35 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-70946a35 data-v-bf2fac68 data-v-42cb505d><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-42cb505d><span class="vpi-more-horizontal icon" data-v-42cb505d></span></button><div class="menu" data-v-42cb505d><div class="VPMenu" data-v-42cb505d data-v-25a6cce8><!----><!--[--><!--[--><!----><div class="group" data-v-bf2fac68><div class="item appearance" data-v-bf2fac68><p class="label" data-v-bf2fac68>Appearance</p><div class="appearance-action" data-v-bf2fac68><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bf2fac68 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-70946a35 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-70946a35><div class="divider-line" data-v-70946a35></div></div></div><!----></header><div class="VPLocalNav empty fixed" data-v-1df9f90f data-v-db738f89><div class="container" data-v-db738f89><!----><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-db738f89 data-v-0bf0e06f><button data-v-0bf0e06f>Return to top</button><!----></div></div></div><!----><div class="VPContent" id="VPContent" data-v-1df9f90f data-v-c87f25bf><div class="VPDoc has-aside" data-v-c87f25bf data-v-7011f0d8><!--[--><!--]--><div class="container" data-v-7011f0d8><div class="aside" data-v-7011f0d8><div class="aside-curtain" data-v-7011f0d8></div><div class="aside-container" data-v-7011f0d8><div class="aside-content" data-v-7011f0d8><div class="VPDocAside" data-v-7011f0d8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-60d5052e><div class="content" data-v-60d5052e><div class="outline-marker" data-v-60d5052e></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-60d5052e>On this page</div><ul class="VPDocOutlineItem root" data-v-60d5052e data-v-1ce71065><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-7011f0d8><div class="content-container" data-v-7011f0d8><!--[--><!--]--><main class="main" data-v-7011f0d8><div style="position:relative;" class="vp-doc _en_posts_ambilight-ws2801-raspberry-pi-hyperion" data-v-7011f0d8><div><h2 id="introduction" tabindex="-1">Introduction <a class="header-anchor" href="#introduction" aria-label="Permalink to “Introduction”">​</a></h2><p>Le système <a href="http://en.wikipedia.org/wiki/Ambilight" target="_blank" rel="noreferrer">Ambilight</a> de chez Phiilips m&#39;a fait les yeux doux depuis trop longtemps, je me suis donc décidé à faire un système Ambilight en <a href="http://fr.wikipedia.org/wiki/Do_it_yourself" target="_blank" rel="noreferrer">DIY</a>. Les projets et tuto ne manquent pas sur le net, beaucoup de personnes se sont essayé à l&#39;exercice et certains softs sont même très complet maintenant (Hyperion pour ne pas le citer).</p><h2 id="materiel" tabindex="-1">Matériel <a class="header-anchor" href="#materiel" aria-label="Permalink to “Matériel”">​</a></h2><p>Au niveau du matériel, j&#39;ai choisi un ruban à 50 leds, une alimentation 5v 8A et un connecteur d&#39;alimentation jack.</p><ul><li>1 ruban de 50 <a href="http://www.ebay.fr/itm/50PCS-WS2801-RGB-Full-Color-12mm-Pixels-digital-Addressable-LED-String-DC-5V-/121159316753?pt=US_Car_Lighting&amp;hash=item1c35a87511" target="_blank" rel="noreferrer">LED WS2801</a> pour 21€ ;</li><li>1 alimentation <a href="http://www.ebay.fr/itm/5V-8A-Power-supply-AC-to-DC-Adapter-for-WS2811-WS2801-HL8806-LED-String-Light-/121153648301?hash=item1c3551f6ad&amp;pt=US_Lighting_Parts_and_Accessories" target="_blank" rel="noreferrer">5V 8A</a> pour 12€ ;</li><li>1 connecteur d&#39;alimentation jack (à l&#39;<a href="http://www.amazon.fr/gp/product/B006WJL7Y6/ref=oh_details_o00_s00_i00?ie=UTF8&amp;psc=1" target="_blank" rel="noreferrer">unité 3€</a> ou <a href="http://www.amazon.fr/gp/product/B008H2HLUA/ref=oh_details_o08_s00_i00?ie=UTF8&amp;psc=1" target="_blank" rel="noreferrer">10 pour 7€</a>).</li></ul><h2 id="prototype" tabindex="-1">Prototype <a class="header-anchor" href="#prototype" aria-label="Permalink to “Prototype”">​</a></h2><p>J&#39;ai commencé par réaliser un cadre avec des morceaux de MDF qui ne me servaient à rien. C&#39;est léger, facile à travaillé mais vite fragilisé avec les trous vu l&#39;épaisseur.</p><p><img src="/images/IMG_20140706_1353301.jpg" alt="Prototype 1"></p><p><img src="/images/IMG_20140706_1353481.jpg" alt="Prototype 2"></p><p><img src="/images/IMG_20140706_1532031.jpg" alt="Prototype 3"></p><p><img src="/images/IMG_20140706_1648501.jpg" alt="Prototype 4"></p><p><img src="/images/IMG_20140707_0843401.jpg" alt="Prototype 5"></p><h2 id="connexion-avec-le-raspberry-pi" tabindex="-1">Connexion avec le Raspberry Pi <a class="header-anchor" href="#connexion-avec-le-raspberry-pi" aria-label="Permalink to “Connexion avec le Raspberry Pi”">​</a></h2><p>La connexion avec le Raspberry Pi est relativement simple, comme vous pouvez le voir sur le schéma ci-dessous.</p><p>Les LED étant sensibles au voltage, il est préférable de les alimenter avec une alimentation extérieure connectée en parallèle au 5v du port GPIO.</p><p><img src="/images/diagram1.png" alt="Schéma connexion"></p><h2 id="installation-d-hyperion" tabindex="-1">Installation d&#39;Hyperion <a class="header-anchor" href="#installation-d-hyperion" aria-label="Permalink to “Installation d&#39;Hyperion”">​</a></h2><p>Le plus simple pour utiliser Hyperion est d&#39;utiliser une <a href="http://www.raspberrypi.org/downloads/" target="_blank" rel="noreferrer">Raspbian</a> sur votre Raspberry Pi, si jamais vous voulez absoluement tourner sur un aure OS je vous repporte sur le wiki d&#39;Hyperion qui explique la procédure supplémentaire à suivre <a href="https://github.com/tvdzwan/hyperion/wiki/installation" target="_blank" rel="noreferrer">ici</a>.</p><p>En premier lieu, une installation de quelques librairies est nécessaire pour faire tourner Hyperion sur votre Raspberi Pi.</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> libqtcore4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> libqtgui4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> libqt4-network</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> libusb-1.0-0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> libprotobuf7</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ca-certificates</span></span></code></pre></div><p>Ensuite téléchargé et déployé Hyperion.</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wget</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -N</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://raw.github.com/tvdzwan/hyperion/master/bin/install_hyperion.sh</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./install_hyperion.sh</span></span></code></pre></div><p>A savoir qu&#39;Hyperion se lancera automatiquement dès le prochain démarrage du Raspberry Pi.</p><p>Vous pouvez ensuite tester simple d&#39;allumer votre ruban en rouge.</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">hyperion-remote</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --priority</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 50</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --color</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> red</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --duration</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5000</span></span></code></pre></div><p>Si vous souhaité désactiver le lancement automatique d&#39;Hyperion au démarrage.</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /sbin/initctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hyperion</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/init/hyperion.conf</span></span></code></pre></div><p>Pour information, je n&#39;ai pas réussi à faire fonctionner mon connecteur usb/wifi Edimax sur la Raspbmc alors qu&#39;il fonctionnait très bien sur ma Raspbian, je me suis donc résolu à connecter mon Raspberry Pi en RJ45.</p><p>Il existe une application Android gratuite pour contrôler le serveur Hyperion à distance, disponible sur le <a href="https://play.google.com/store/apps/details?id=nl.hyperion.hyperionfree" target="_blank" rel="noreferrer">store</a>.</p><h2 id="configuration-d-hyperion" tabindex="-1">Configuration d&#39;Hyperion <a class="header-anchor" href="#configuration-d-hyperion" aria-label="Permalink to “Configuration d&#39;Hyperion”">​</a></h2><p>Hyperion possède un logiciel de paramétrage très bien fait, nommé <a href="https://github.com/tvdzwan/hyperion/wiki/configuration" target="_blank" rel="noreferrer">HyperCon</a>, il permet de gérer l&#39;ensemble des LED (position, couleurs, éclairage, taille, …). L&#39;ensemble des possibilités est détaillées dans le lien précédent.</p><p>Hypercon va donc vous générer un fichier hyperion.config.json à déposer par défaut dans /etc.</p><p><img src="/images/hypercon_mainscreen_011-1050x565.jpg" alt="HyperCon"></p><h2 id="cadre-en-acier" tabindex="-1">Cadre en acier <a class="header-anchor" href="#cadre-en-acier" aria-label="Permalink to “Cadre en acier”">​</a></h2><p>Mon cadre en MDF n&#39;étant pas très résistant, j&#39;ai acheté quelques cornières en acier, que j&#39;ai découpé et ensuite peinte. Le résultat est bien mieux, l&#39;ensemble est solide, léger et tient bien mieux à la TV.</p><p><img src="/images/IMG_20140707_2149471.jpg" alt="Cadre acier 1"></p><p><img src="/images/IMG_20140707_2347261.jpg" alt="Cadre acier 2"></p><p><img src="/images/IMG_20140708_0757471.jpg" alt="Cadre acier 3"></p><p><img src="/images/IMG_20140707_2301481.jpg" alt="Cadre acier 4"></p><p><img src="/images/IMG_20140708_0758191.jpg" alt="Cadre acier 5"></p><h2 id="configuration-avec-xbmc" tabindex="-1">Configuration avec XBMC <a class="header-anchor" href="#configuration-avec-xbmc" aria-label="Permalink to “Configuration avec XBMC”">​</a></h2><p>J&#39;ai bataillé un moment avant de faire communiquer mon XBMC sous mon media center (Windows) avec le serveur Hyperion sur le Raspberry Pi.</p><p>La seule solution (à l&#39;heure actuelle) que j&#39;ai trouvé, c&#39;est de passer par l&#39;addon XBMC Boblight qui rend possible la communication entre XBMC et Hyperion sur le réseau.</p><p>J&#39;ai testé l&#39;addon Hyperion pour XBMC mais impossible d&#39;établir une connexion…</p><h2 id="videos" tabindex="-1">Vidéos <a class="header-anchor" href="#videos" aria-label="Permalink to “Vidéos”">​</a></h2><iframe src="//www.youtube.com/embed/OVBgoJScQIA" frameborder="0" allowfullscreen></iframe><iframe src="//www.youtube.com/embed/4Ka4kQxznlQ" frameborder="0" allowfullscreen></iframe></div></div></main><footer class="VPDocFooter" data-v-7011f0d8 data-v-e257564d><!--[--><!--]--><!----><!----></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"archives.md\":\"DSgcYjdv\",\"en_archives.md\":\"DRyZ2kNH\",\"en_index.md\":\"DrYis1Ws\",\"en_posts_affichage-i2c-esp8266.md\":\"kpqStCER\",\"en_posts_ambilight-ws2801-raspberry-pi-hyperion.md\":\"stVT2UdK\",\"en_posts_ambilight-ws2812b-teensy.md\":\"BNTms2gY\",\"en_posts_bureau-sur-mesure-pc-integre.md\":\"DIPj58dp\",\"en_posts_communication-sans-fil-esp8266.md\":\"D3JZqUSJ\",\"en_posts_controle-prise-chacon-raspberry-pi.md\":\"C2ZjJOON\",\"en_posts_distributeur-croquettes-jeedom-esp8266.md\":\"Dsh-Jd4n\",\"en_posts_flash-esp8266.md\":\"BjHvOGCm\",\"en_posts_luminosite-jeedom-esp8266.md\":\"BZFmwJkT\",\"en_posts_temperature-pression-bmp180-jeedom-esp8266.md\":\"Bx1zHj52\",\"fr_archives.md\":\"BTktdli9\",\"fr_index.md\":\"DZ1FCJ1I\",\"index.md\":\"Co46_gQ7\",\"posts_affichage-i2c-esp8266.md\":\"BRWp_Lho\",\"posts_ambilight-ws2801-raspberry-pi-hyperion.md\":\"DSqWP-U3\",\"posts_ambilight-ws2812b-teensy.md\":\"YqTWLNo1\",\"posts_bureau-sur-mesure-pc-integre.md\":\"BVIKayzG\",\"posts_communication-sans-fil-esp8266.md\":\"xmQsQfEq\",\"posts_controle-prise-chacon-raspberry-pi.md\":\"Vi2kY9PM\",\"posts_distributeur-croquettes-jeedom-esp8266.md\":\"D-Hkia3T\",\"posts_flash-esp8266.md\":\"CxIYpqpB\",\"posts_luminosite-jeedom-esp8266.md\":\"kbFzf-fZ\",\"posts_temperature-pression-bmp180-jeedom-esp8266.md\":\"Df7el_WS\",\"tags_ambilight.md\":\"474R9aPC\",\"tags_diy.md\":\"CmrHIPzl\",\"tags_esp8266.md\":\"D8s_jdw-\",\"tags_jeedom.md\":\"CKR6Ct1k\",\"tags_nodemcu.md\":\"CKztGFUo\",\"tags_raspberry-pi.md\":\"CrskyZz3\",\"tags_teensy.md\":\"BXpgWZX6\",\"tags_ws2801.md\":\"BpXKNEyu\",\"tags_ws2812b.md\":\"BA3QvSIE\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"VitePress\",\"description\":\"A VitePress site\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false,\"additionalConfig\":{}}");</script>
    
  </body>
</html>