<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Contr√¥le de prise Chacon DIO First via Raspberry Pi | VitePress</title>
    <meta name="description" content="Premier article de domotique : contr√¥le de prises Chacon DIO First via un Raspberry Pi et un √©metteur 433MHz.">
    <meta name="generator" content="VitePress v2.0.0-alpha.15">
    <link rel="preload stylesheet" href="/assets/style.BgQj3CDO.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.CHZW5mh9.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.n8570wft.js">
    <link rel="modulepreload" href="/assets/chunks/framework.CfqOJIEo.js">
    <link rel="modulepreload" href="/assets/en_posts_controle-prise-chacon-raspberry-pi.md.C2ZjJOON.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-1df9f90f><!--[--><!--]--><!--[--><span tabindex="-1" data-v-331ec75c></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-331ec75c>Skip to content</a><!--]--><!----><header class="VPNav" data-v-1df9f90f data-v-da52a441><div class="VPNavBar" data-v-da52a441 data-v-70946a35><div class="wrapper" data-v-70946a35><div class="container" data-v-70946a35><div class="title" data-v-70946a35><div class="VPNavBarTitle" data-v-70946a35 data-v-1e38c6bc><a class="title" href="/" data-v-1e38c6bc><!--[--><!--]--><!----><span data-v-1e38c6bc>VitePress</span><!--[--><!--]--></a></div></div><div class="content" data-v-70946a35><div class="content-body" data-v-70946a35><!--[--><!--]--><div class="VPNavBarSearch search" data-v-70946a35><!----></div><!----><!----><div class="VPNavBarAppearance appearance" data-v-70946a35 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-70946a35 data-v-bf2fac68 data-v-42cb505d><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-42cb505d><span class="vpi-more-horizontal icon" data-v-42cb505d></span></button><div class="menu" data-v-42cb505d><div class="VPMenu" data-v-42cb505d data-v-25a6cce8><!----><!--[--><!--[--><!----><div class="group" data-v-bf2fac68><div class="item appearance" data-v-bf2fac68><p class="label" data-v-bf2fac68>Appearance</p><div class="appearance-action" data-v-bf2fac68><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bf2fac68 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-70946a35 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-70946a35><div class="divider-line" data-v-70946a35></div></div></div><!----></header><div class="VPLocalNav empty fixed" data-v-1df9f90f data-v-db738f89><div class="container" data-v-db738f89><!----><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-db738f89 data-v-0bf0e06f><button data-v-0bf0e06f>Return to top</button><!----></div></div></div><!----><div class="VPContent" id="VPContent" data-v-1df9f90f data-v-c87f25bf><div class="VPDoc has-aside" data-v-c87f25bf data-v-7011f0d8><!--[--><!--]--><div class="container" data-v-7011f0d8><div class="aside" data-v-7011f0d8><div class="aside-curtain" data-v-7011f0d8></div><div class="aside-container" data-v-7011f0d8><div class="aside-content" data-v-7011f0d8><div class="VPDocAside" data-v-7011f0d8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-60d5052e><div class="content" data-v-60d5052e><div class="outline-marker" data-v-60d5052e></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-60d5052e>On this page</div><ul class="VPDocOutlineItem root" data-v-60d5052e data-v-1ce71065><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-7011f0d8><div class="content-container" data-v-7011f0d8><!--[--><!--]--><main class="main" data-v-7011f0d8><div style="position:relative;" class="vp-doc _en_posts_controle-prise-chacon-raspberry-pi" data-v-7011f0d8><div><p>Bonjour,</p><p>C&#39;est donc mon premier article de domotique et √©galement mon premier montage.</p><p>Cette article s&#39;appuie sur les deux articles suivant :</p><ul><li><a href="http://www.homautomation.org/2013/10/09/how-to-control-di-o-devices-with-a-raspberry/" target="_blank" rel="noreferrer">How to control dio devices with a raspberry pi</a>;</li><li><a href="http://blog.idleman.fr/raspberry-pi-12-allumer-des-prises-distance/" target="_blank" rel="noreferrer">Raspberry Pi 12 ‚Äì Allumer des prises √† distance</a>.</li></ul><h2 id="introduction" tabindex="-1">Introduction <a class="header-anchor" href="#introduction" aria-label="Permalink to ‚ÄúIntroduction‚Äù">‚Äã</a></h2><p>J&#39;ai commenc√© depuis quelques temps √† m&#39;amuser √† int√©grer <a href="http://encausse.wordpress.com/s-a-r-a-h/" target="_blank" rel="noreferrer">S.A.R.A.H.</a> dans la maison via un media center maison.<br> Pour information, S.A.R.A.H. permet de communiquer avec l&#39;ensemble des objets connect√©s de la maison via requ√™te HTTP √† l&#39;aide de la voix.</p><p>J&#39;ai fait l&#39;acquisition de trois prises <a href="http://www.amazon.fr/prises-avec-t%C3%A9l%C3%A9commande-canaux-Chacon/dp/B005LKMAW0/ref=sr_1_1?ie=UTF8&amp;qid=1393325060&amp;sr=8-1&amp;keywords=chacon+dio" target="_blank" rel="noreferrer">Chacon DIO First</a> avec t√©l√©commande pour 30‚Ç¨ et d&#39;un kit <a href="http://www.amazon.fr/gp/product/B00G23NW6S/ref=oh_details_o03_s00_i00?ie=UTF8&amp;psc=1" target="_blank" rel="noreferrer">r√©cepteur/√©metteur 433MHz</a> pour 3.45‚Ç¨ sur Amazon, il y a de √ßa une semaine.</p><p>Je poss√©dais d√©j√† un Raspberry Pi, je ne pense pas que ce soit tr√®s difficile √† trouver, tellement c&#39;est r√©pandu maintenant !</p><p><img src="/images/chacon.jpeg" alt="Chacon"></p><h2 id="principe-fonctionnement" tabindex="-1">Principe &amp; fonctionnement <a class="header-anchor" href="#principe-fonctionnement" aria-label="Permalink to ‚ÄúPrincipe &amp; fonctionnement‚Äù">‚Äã</a></h2><p>Les prises Chacon DIO First fonctionne via radio fr√©quence en 433MHz.<br> Le principe est tout simple, reproduire les donn√©s √©mises par la t√©l√©commande via l&#39;√©m√©tteur 433MHz coupl√© au Raspberry Pi.</p><p>La t√©l√©commande communique avec les prises via le protocole Easy Home, ce protocole compose le signal sous 32 bits ainsi :</p><ul><li>26 premiers bits correspondant √† l&#39;identifiant de la t√©l√©commande;</li><li>27 √®me bit correspondant au num√©ro du groupe (non importante ici);</li><li>28 √®me bit correspondant √† l&#39;√©tat de la prise (ON=1 &amp; OFF=0);</li><li>29 √† 32 √®mes bits correspondant au num√©ro de la prise √† command√©e.</li></ul><p>Pour de meilleure explication, je vous r√©f√®re au tutoriel d&#39;<a href="http://blog.idleman.fr/raspberry-pi-10-commander-le-raspberry-pi-par-radio/" target="_blank" rel="noreferrer">Idleman 10</a> sur le Raspberry Pi.</p><h2 id="montage" tabindex="-1">Montage <a class="header-anchor" href="#montage" aria-label="Permalink to ‚ÄúMontage‚Äù">‚Äã</a></h2><p>Si vous n&#39;avez jamais jouer avec les ports GPIO du Raspberry Pi voici le montage √† adopt√© pour faire fonctionner l&#39;√©metteur 433MHz.</p><p><img src="/images/RPi-copie-1024x742.jpg" alt="Sch√©ma Raspberry Pi"></p><p>Vous pouvez voir sur le montage l&#39;√©metteur mais √©galement le r√©cepteur, ce n&#39;est pas utile pour ce que l&#39;on veut faire ici.</p><p>Pour l&#39;astuce, un c√¢ble de ventilateur PC √† trois pins convient parfaitement pour l&#39;√©metteur 433MHz üòâ</p><p>Vous pouvez souder un fil conducteur √† l&#39;emplacement r√©serv√© √† l&#39;antenne (Ant) sur l&#39;√©metteur de 17,3cm, si vous voulez vous assurez de la bonne communication avec les prises.</p><p><img src="/images/rf433k-300x225.jpg" alt="√âmetteur 433MHz"></p><h2 id="logiciel" tabindex="-1">Logiciel <a class="header-anchor" href="#logiciel" aria-label="Permalink to ‚ÄúLogiciel‚Äù">‚Äã</a></h2><p>On passe ensuite au niveau logiciel sur le Raspberry Pi.</p><p>Il vous faut avant tout chose installer la librairie WiringPi, permettant de simplifier l&#39;acc√®s aux ports GPIO:</p><p>Installation de git</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git-core</span></span></code></pre></div><p>Mise √† jour de Raspbian</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> upgrade</span></span></code></pre></div><p>R√©cup√©ration de WiringPi sur Git</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git://git.drogon.net/wiringPi</span></span></code></pre></div><p>R√©cup√©ration des derni√®res modifications de WiringPi</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wiringPi</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> origin</span></span></code></pre></div><p>Construction de la librairie WiringPi</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wiringPi</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./build</span></span></code></pre></div><p>Le code pour contr√¥ler les prises est √† r√©cup√©r√© sur le site d&#39;<a href="http://projet.idleman.fr/domopi/data/hcc/hcc.zip" target="_blank" rel="noreferrer">Idleman</a> (merci √† lui).</p><p>Dans ce zip se trouve, une interface web et le code C permettant le contr√¥le des prises Chacon. On ne s&#39;occupera pas de l&#39;interface web dans cette article.<br> Le fichier important est donc radioEmission, si vous voulez jouer avec le code, vous pouvez ouvrir (et modifier) le fichier radioEmission.cpp et recompiler le fichie radioEmission √† l&#39;aide de la commande suivante :</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">g++</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> radioEmission.cpp</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> radioEmission</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -lwiringPi</span></span></code></pre></div></div></div></main><footer class="VPDocFooter" data-v-7011f0d8 data-v-e257564d><!--[--><!--]--><!----><!----></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"archives.md\":\"DSgcYjdv\",\"en_archives.md\":\"DRyZ2kNH\",\"en_index.md\":\"DrYis1Ws\",\"en_posts_affichage-i2c-esp8266.md\":\"kpqStCER\",\"en_posts_ambilight-ws2801-raspberry-pi-hyperion.md\":\"stVT2UdK\",\"en_posts_ambilight-ws2812b-teensy.md\":\"BNTms2gY\",\"en_posts_bureau-sur-mesure-pc-integre.md\":\"DIPj58dp\",\"en_posts_communication-sans-fil-esp8266.md\":\"D3JZqUSJ\",\"en_posts_controle-prise-chacon-raspberry-pi.md\":\"C2ZjJOON\",\"en_posts_distributeur-croquettes-jeedom-esp8266.md\":\"Dsh-Jd4n\",\"en_posts_flash-esp8266.md\":\"BjHvOGCm\",\"en_posts_luminosite-jeedom-esp8266.md\":\"BZFmwJkT\",\"en_posts_temperature-pression-bmp180-jeedom-esp8266.md\":\"Bx1zHj52\",\"fr_archives.md\":\"BTktdli9\",\"fr_index.md\":\"DZ1FCJ1I\",\"index.md\":\"Co46_gQ7\",\"posts_affichage-i2c-esp8266.md\":\"BRWp_Lho\",\"posts_ambilight-ws2801-raspberry-pi-hyperion.md\":\"DSqWP-U3\",\"posts_ambilight-ws2812b-teensy.md\":\"YqTWLNo1\",\"posts_bureau-sur-mesure-pc-integre.md\":\"BVIKayzG\",\"posts_communication-sans-fil-esp8266.md\":\"xmQsQfEq\",\"posts_controle-prise-chacon-raspberry-pi.md\":\"Vi2kY9PM\",\"posts_distributeur-croquettes-jeedom-esp8266.md\":\"D-Hkia3T\",\"posts_flash-esp8266.md\":\"CxIYpqpB\",\"posts_luminosite-jeedom-esp8266.md\":\"kbFzf-fZ\",\"posts_temperature-pression-bmp180-jeedom-esp8266.md\":\"Df7el_WS\",\"tags_ambilight.md\":\"474R9aPC\",\"tags_diy.md\":\"CmrHIPzl\",\"tags_esp8266.md\":\"D8s_jdw-\",\"tags_jeedom.md\":\"CKR6Ct1k\",\"tags_nodemcu.md\":\"CKztGFUo\",\"tags_raspberry-pi.md\":\"CrskyZz3\",\"tags_teensy.md\":\"BXpgWZX6\",\"tags_ws2801.md\":\"BpXKNEyu\",\"tags_ws2812b.md\":\"BA3QvSIE\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"VitePress\",\"description\":\"A VitePress site\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false,\"additionalConfig\":{}}");</script>
    
  </body>
</html>