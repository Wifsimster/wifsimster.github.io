<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Communication sans fil indépendante via deux ESP8266 | VitePress</title>
    <meta name="description" content="La problématique de ce projet est de réaliser soit même une communication sans fil. Dans ce cas précis, une communication wifi et autonome">
    <meta name="generator" content="VitePress v2.0.0-alpha.15">
    <link rel="preload stylesheet" href="/assets/style.BgQj3CDO.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.CHZW5mh9.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.n8570wft.js">
    <link rel="modulepreload" href="/assets/chunks/framework.CfqOJIEo.js">
    <link rel="modulepreload" href="/assets/posts_communication-sans-fil-esp8266.md.xmQsQfEq.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-1df9f90f><!--[--><!--]--><!--[--><span tabindex="-1" data-v-331ec75c></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-331ec75c>Skip to content</a><!--]--><!----><header class="VPNav" data-v-1df9f90f data-v-da52a441><div class="VPNavBar" data-v-da52a441 data-v-70946a35><div class="wrapper" data-v-70946a35><div class="container" data-v-70946a35><div class="title" data-v-70946a35><div class="VPNavBarTitle" data-v-70946a35 data-v-1e38c6bc><a class="title" href="/" data-v-1e38c6bc><!--[--><!--]--><!----><span data-v-1e38c6bc>VitePress</span><!--[--><!--]--></a></div></div><div class="content" data-v-70946a35><div class="content-body" data-v-70946a35><!--[--><!--]--><div class="VPNavBarSearch search" data-v-70946a35><!----></div><!----><!----><div class="VPNavBarAppearance appearance" data-v-70946a35 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-70946a35 data-v-bf2fac68 data-v-42cb505d><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-42cb505d><span class="vpi-more-horizontal icon" data-v-42cb505d></span></button><div class="menu" data-v-42cb505d><div class="VPMenu" data-v-42cb505d data-v-25a6cce8><!----><!--[--><!--[--><!----><div class="group" data-v-bf2fac68><div class="item appearance" data-v-bf2fac68><p class="label" data-v-bf2fac68>Appearance</p><div class="appearance-action" data-v-bf2fac68><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bf2fac68 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-70946a35 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-70946a35><div class="divider-line" data-v-70946a35></div></div></div><!----></header><div class="VPLocalNav empty fixed" data-v-1df9f90f data-v-db738f89><div class="container" data-v-db738f89><!----><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-db738f89 data-v-0bf0e06f><button data-v-0bf0e06f>Return to top</button><!----></div></div></div><!----><div class="VPContent" id="VPContent" data-v-1df9f90f data-v-c87f25bf><div class="VPDoc has-aside" data-v-c87f25bf data-v-7011f0d8><!--[--><!--]--><div class="container" data-v-7011f0d8><div class="aside" data-v-7011f0d8><div class="aside-curtain" data-v-7011f0d8></div><div class="aside-container" data-v-7011f0d8><div class="aside-content" data-v-7011f0d8><div class="VPDocAside" data-v-7011f0d8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-60d5052e><div class="content" data-v-60d5052e><div class="outline-marker" data-v-60d5052e></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-60d5052e>On this page</div><ul class="VPDocOutlineItem root" data-v-60d5052e data-v-1ce71065><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-7011f0d8><div class="content-container" data-v-7011f0d8><!--[--><!--]--><main class="main" data-v-7011f0d8><div style="position:relative;" class="vp-doc _posts_communication-sans-fil-esp8266" data-v-7011f0d8><div><h2 id="introduction" tabindex="-1">Introduction <a class="header-anchor" href="#introduction" aria-label="Permalink to “Introduction”">​</a></h2><p>La problématique de ce projet est de réaliser soit même une communication sans fil. Dans ce cas précis, une communication wifi et autonome, c&#39;est à dire sans point d&#39;accès provenant d&#39;un routeur (ou autre box). Le but final étant de relier une cellule IR de détection de présence (se trouvant à l&#39;extérieur) à une alarme (à l&#39;intérieur de la maison).</p><h2 id="prerequis" tabindex="-1">Prérequis <a class="header-anchor" href="#prerequis" aria-label="Permalink to “Prérequis”">​</a></h2><p>Je pars du principe que :</p><ul><li>la détection de présence sur la cellule IR provoque un état haut sur une entrée GPIO;</li><li>l&#39;alarme sera mise en fonction via un état haut d&#39;une sortie GPIO.</li></ul><p>Il vous faudra :</p><ul><li>2 <a href="http://www.ebay.com/itm/ESP8266-Serial-WIFI-Wireless-Transceiver-Module-Send-Receive-LWIP-Support-AP-STA-/171653455849?hash=item27f757dfe9:g:KDkAAOSw-W5Uwh9z" target="_blank" rel="noreferrer">ESP8266</a>;</li><li>2 régulateurs <a href="http://www.ebay.com/itm/LF33CV-Original-New-ST-Transistor-/400409071685?hash=item5d3a3d9045:g:pF4AAMXQk-FRE8mt" target="_blank" rel="noreferrer">LF33CV</a>;</li><li>2 résistances <a href="http://www.ebay.com/itm/1000PCS-1K-1K-Ohm-1-4W-0-25W-5-Carbon-Film-Resistors-Resistance-/252071106631?hash=item3ab09bd847:g:ymUAAOSwjVVV3nVm" target="_blank" rel="noreferrer">1KΩ</a>.</li></ul><p><strong>Attention !</strong><br> Le code est en LUA et nécessite donc d&#39;avoir les ESP8266 avec le firmware nodemcu.</p><h2 id="principe" tabindex="-1">Principe <a class="header-anchor" href="#principe" aria-label="Permalink to “Principe”">​</a></h2><p>Un esp va servir de serveur, c&#39;est à dire qu&#39;il va :</p><ol><li>Déclarer son propre point d&#39;accès wifi;</li><li>Instancier un serveur HTTP;</li><li>Attendre une requête HTTP et produire une action en conséquence de cette requête.</li></ol><p>Le deuxième esp va lui servir de client, c&#39;est à dire qu&#39;il va :</p><ol><li>Essayer de se connecter sur le point d&#39;accès wifi du serveur (pendant 1 min, led verte clignotante);</li><li>Allumer la led verte pour indiquer que la connexion au serveur est établie;</li><li>Attendre un changement d&#39;état du port GPIO_2 (la cellule IR);</li><li>Envoyer une requête HTTP au serveur avec l&#39;état du port GPIO_2;</li></ol><h2 id="schemas" tabindex="-1">Schémas <a class="header-anchor" href="#schemas" aria-label="Permalink to “Schémas”">​</a></h2><p><img src="/images/scheme-client.png" alt="Schéma client"></p><p><img src="/images/scheme-server.png" alt="Schéma serveur"></p><h2 id="code" tabindex="-1">Code <a class="header-anchor" href="#code" aria-label="Permalink to “Code”">​</a></h2><p><a href="https://github.com/Wifsimster/soft-ap-client" target="_blank" rel="noreferrer">Client</a> | <a href="https://github.com/Wifsimster/soft-ap" target="_blank" rel="noreferrer">Serveur</a></p><h2 id="realisation" tabindex="-1">Réalisation <a class="header-anchor" href="#realisation" aria-label="Permalink to “Réalisation”">​</a></h2><p><img src="/images/image_client.jpg" alt="Image client"></p><p><img src="/images/image_server.jpg" alt="Image serveur"></p></div></div></main><footer class="VPDocFooter" data-v-7011f0d8 data-v-e257564d><!--[--><!--]--><!----><!----></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"archives.md\":\"DSgcYjdv\",\"en_archives.md\":\"DRyZ2kNH\",\"en_index.md\":\"DrYis1Ws\",\"en_posts_affichage-i2c-esp8266.md\":\"kpqStCER\",\"en_posts_ambilight-ws2801-raspberry-pi-hyperion.md\":\"stVT2UdK\",\"en_posts_ambilight-ws2812b-teensy.md\":\"BNTms2gY\",\"en_posts_bureau-sur-mesure-pc-integre.md\":\"DIPj58dp\",\"en_posts_communication-sans-fil-esp8266.md\":\"D3JZqUSJ\",\"en_posts_controle-prise-chacon-raspberry-pi.md\":\"C2ZjJOON\",\"en_posts_distributeur-croquettes-jeedom-esp8266.md\":\"Dsh-Jd4n\",\"en_posts_flash-esp8266.md\":\"BjHvOGCm\",\"en_posts_luminosite-jeedom-esp8266.md\":\"BZFmwJkT\",\"en_posts_temperature-pression-bmp180-jeedom-esp8266.md\":\"Bx1zHj52\",\"fr_archives.md\":\"BTktdli9\",\"fr_index.md\":\"DZ1FCJ1I\",\"index.md\":\"Co46_gQ7\",\"posts_affichage-i2c-esp8266.md\":\"BRWp_Lho\",\"posts_ambilight-ws2801-raspberry-pi-hyperion.md\":\"DSqWP-U3\",\"posts_ambilight-ws2812b-teensy.md\":\"YqTWLNo1\",\"posts_bureau-sur-mesure-pc-integre.md\":\"BVIKayzG\",\"posts_communication-sans-fil-esp8266.md\":\"xmQsQfEq\",\"posts_controle-prise-chacon-raspberry-pi.md\":\"Vi2kY9PM\",\"posts_distributeur-croquettes-jeedom-esp8266.md\":\"D-Hkia3T\",\"posts_flash-esp8266.md\":\"CxIYpqpB\",\"posts_luminosite-jeedom-esp8266.md\":\"kbFzf-fZ\",\"posts_temperature-pression-bmp180-jeedom-esp8266.md\":\"Df7el_WS\",\"tags_ambilight.md\":\"474R9aPC\",\"tags_diy.md\":\"CmrHIPzl\",\"tags_esp8266.md\":\"D8s_jdw-\",\"tags_jeedom.md\":\"CKR6Ct1k\",\"tags_nodemcu.md\":\"CKztGFUo\",\"tags_raspberry-pi.md\":\"CrskyZz3\",\"tags_teensy.md\":\"BXpgWZX6\",\"tags_ws2801.md\":\"BpXKNEyu\",\"tags_ws2812b.md\":\"BA3QvSIE\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"VitePress\",\"description\":\"A VitePress site\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false,\"additionalConfig\":{}}");</script>
    
  </body>
</html>